
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Magistrala IoT System">
      
      
      
        <link rel="canonical" href="https://docs.magistrala.abstractmachines.fr/events/">
      
      
        <link rel="prev" href="../messaging/">
      
      
        <link rel="next" href="../edge/">
      
      
      <link rel="icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Events - Magistrala</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#events" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Magistrala" class="md-header__button md-logo" aria-label="Magistrala" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Magistrala
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Events
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/absmach/magistrala" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Magistrala" class="md-nav__button md-logo" aria-label="Magistrala" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    Magistrala
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/absmach/magistrala" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../entities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entities
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../authorization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authorization
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../messaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Messaging
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Events
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#users-service" class="md-nav__link">
    <span class="md-ellipsis">
      Users Service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Users Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      User create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      User view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-view-profile-event" class="md-nav__link">
    <span class="md-ellipsis">
      User view profile event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      User list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-list-by-group-event" class="md-nav__link">
    <span class="md-ellipsis">
      User list by group event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-identify-event" class="md-nav__link">
    <span class="md-ellipsis">
      User identify event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-generate-reset-token-event" class="md-nav__link">
    <span class="md-ellipsis">
      User generate reset token event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-issue-token-event" class="md-nav__link">
    <span class="md-ellipsis">
      User issue token event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-refresh-token-event" class="md-nav__link">
    <span class="md-ellipsis">
      User refresh token event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-reset-secret-event" class="md-nav__link">
    <span class="md-ellipsis">
      User reset secret event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      User update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-update-identity-event" class="md-nav__link">
    <span class="md-ellipsis">
      User update identity event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-update-tags-event" class="md-nav__link">
    <span class="md-ellipsis">
      User update tags event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      User remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-list-by-user-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group list by user event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-authorize-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy authorize event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-add-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy add event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy list event
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#things-service" class="md-nav__link">
    <span class="md-ellipsis">
      Things Service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Things Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thing-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-update-secret-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing update secret event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-update-tags-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing update tags event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-list-by-channel-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing list by channel event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-identify-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing identify event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-list-by-thing-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel list by thing event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-authorize-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy authorize event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-add-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy add event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-update-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-remove-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-list-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy list event
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrap-service" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrap Service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bootstrap Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificate-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Certificate update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-remove-handler" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration remove handler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-bootstrap-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing bootstrap event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-change-state-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing change state event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-update-connections-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing update connections event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-update-handler-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel update handler event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-remove-handler-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel remove handler event
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mqtt-adapter" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT Adapter
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../edge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Edge
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../certs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../bootstrap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootstrap
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lora/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LoRa
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../opcua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OPC-UA
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../provision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Provision
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../twins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Twins
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tracing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tracing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer's Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../benchmark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Benchmark
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="/blogs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blogs
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#users-service" class="md-nav__link">
    <span class="md-ellipsis">
      Users Service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Users Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      User create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      User view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-view-profile-event" class="md-nav__link">
    <span class="md-ellipsis">
      User view profile event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      User list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-list-by-group-event" class="md-nav__link">
    <span class="md-ellipsis">
      User list by group event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-identify-event" class="md-nav__link">
    <span class="md-ellipsis">
      User identify event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-generate-reset-token-event" class="md-nav__link">
    <span class="md-ellipsis">
      User generate reset token event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-issue-token-event" class="md-nav__link">
    <span class="md-ellipsis">
      User issue token event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-refresh-token-event" class="md-nav__link">
    <span class="md-ellipsis">
      User refresh token event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-reset-secret-event" class="md-nav__link">
    <span class="md-ellipsis">
      User reset secret event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      User update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-update-identity-event" class="md-nav__link">
    <span class="md-ellipsis">
      User update identity event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-update-tags-event" class="md-nav__link">
    <span class="md-ellipsis">
      User update tags event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      User remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-list-by-user-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group list by user event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Group remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-authorize-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy authorize event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-add-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy add event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Policy list event
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#things-service" class="md-nav__link">
    <span class="md-ellipsis">
      Things Service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Things Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thing-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-update-secret-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing update secret event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-update-tags-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing update tags event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-list-by-channel-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing list by channel event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-identify-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing identify event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-list-by-thing-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel list by thing event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-authorize-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy authorize event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-add-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy add event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-update-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-remove-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-list-event_1" class="md-nav__link">
    <span class="md-ellipsis">
      Policy list event
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrap-service" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrap Service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bootstrap Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-create-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration create event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificate-update-event" class="md-nav__link">
    <span class="md-ellipsis">
      Certificate update event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-list-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration list event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-view-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration view event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-remove-event" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration remove event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-remove-handler" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration remove handler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-bootstrap-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing bootstrap event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-change-state-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing change state event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thing-update-connections-event" class="md-nav__link">
    <span class="md-ellipsis">
      Thing update connections event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-update-handler-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel update handler event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-remove-handler-event" class="md-nav__link">
    <span class="md-ellipsis">
      Channel remove handler event
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mqtt-adapter" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT Adapter
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="events">Events<a class="headerlink" href="#events" title="Permanent link">#</a></h1>
<p>In order to be easily integratable system, Magistrala is using <a href="https://redis.io/topics/streams-intro">Redis Streams</a> as an event log for event sourcing. Services that are publishing events to Redis Streams are <code>users</code> service, <code>things</code> service, <code>bootstrap</code> service and <code>mqtt</code> adapter.</p>
<h2 id="users-service">Users Service<a class="headerlink" href="#users-service" title="Permanent link">#</a></h2>
<p>For every operation <code>users</code> service will generate new event and publish it to Redis Stream called <code>magistrala.users</code>. Every event has its own event ID that is automatically generated and <code>operation</code> field that can have one of the following values:</p>
<ul>
<li><code>user.create</code> for user creation</li>
<li><code>user.update</code> for user update</li>
<li><code>user.remove</code> for user change of state</li>
<li><code>user.view</code> for user view</li>
<li><code>user.view_profile</code> for user profile view</li>
<li><code>user.list</code> for listing users</li>
<li><code>user.list_by_group</code> for listing users by group</li>
<li><code>user.identify</code> for user identification</li>
<li><code>user.generate_reset_token</code> for generating reset token</li>
<li><code>user.issue_token</code> for issuing token</li>
<li><code>user.refresh_token</code> for refreshing token</li>
<li><code>user.reset_secret</code> for resetting secret</li>
<li><code>user.send_password_reset</code> for sending password reset</li>
<li><code>group.create</code> for group creation</li>
<li><code>group.update</code> for group update</li>
<li><code>group.remove</code> for group change of state</li>
<li><code>group.view</code> for group view</li>
<li><code>group.list</code> for listing groups</li>
<li><code>group.list_by_user</code> for listing groups by user</li>
<li><code>policy.authorize</code> for policy authorization</li>
<li><code>policy.add</code> for policy creation</li>
<li><code>policy.update</code> for policy update</li>
<li><code>policy.remove</code> for policy deletion</li>
<li><code>policy.list</code> for listing policies</li>
</ul>
<p>By fetching and processing these events you can reconstruct <code>users</code> service state. If you store some of your custom data in <code>metadata</code> field, this is the perfect way to fetch it and process it. If you want to integrate through <a href="https://github.com/absmach/magistrala/blob/main/docker/docker-compose.yml">docker-compose.yml</a> you can use <code>magistrala-es-redis</code> service. Just connect to it and consume events from Redis Stream named <code>magistrala.users</code>.</p>
<h3 id="user-create-event">User create event<a class="headerlink" href="#user-create-event" title="Permanent link">#</a></h3>
<p>Whenever user is created, <code>users</code> service will generate new <code>create</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307171926-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693307171925834295&quot;
    3) &quot;operation&quot;
    4) &quot;user.create&quot;
    5) &quot;id&quot;
    6) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    7) &quot;status&quot;
    8) &quot;enabled&quot;
    9) &quot;created_at&quot;
    10) &quot;2023-08-29T11:06:11.914074Z&quot;
    11) &quot;name&quot;
    12) &quot;-dry-sun&quot;
    13) &quot;metadata&quot;
    14) &quot;{}&quot;
    15) &quot;identity&quot;
    16) &quot;-small-flower@email.com&quot;
</code></pre></div>
<p>As you can see from this example, every odd field represents field name while every even field represents field value. This is standard event format for Redis Streams. If you want to extract <code>metadata</code> field from this event, you'll have to read it as string first and then you can deserialize it to some structured format.</p>
<ol>
<li>In Nats JetStream</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">15</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mf">04+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T12:41:04.743529Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;0a5f2e21-1a8b-460e-bfa9-732e570df095&quot;</span><span class="p">,</span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="s2">&quot;wizardly_hopper@email.com&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;wizardly_hopper&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696509664755440542</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.create&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In RabbitMQ Streams
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.329385Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Comley-Hipp@email.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Skurka-Brule&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532232341083347</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.create&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span>
<span class="p">}</span>
</code></pre></div></li>
</ol>
<h3 id="user-view-event">User view event<a class="headerlink" href="#user-view-event" title="Permanent link">#</a></h3>
<p>Whenever user is viewed, <code>users</code> service will generate new <code>view</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172248-0&quot;
2)  1) &quot;name&quot;
    2) &quot;-holy-pond&quot;
    3) &quot;owner&quot;
    4) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    5) &quot;created_at&quot;
    6) &quot;2023-08-29T11:06:12.032254Z&quot;
    7) &quot;status&quot;
    8) &quot;enabled&quot;
    9) &quot;operation&quot;
    10) &quot;user.view&quot;
    11) &quot;id&quot;
    12) &quot;56d2a797-dcb9-4fab-baf9-7c75e707b2c0&quot;
    13) &quot;identity&quot;
    14) &quot;-snowy-wave@email.com&quot;
    15) &quot;metadata&quot;
    16) &quot;{}&quot;
    17) &quot;occurred_at&quot;
    18) &quot;1693307172247989798&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.219889Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;d4baecb8-adfa-4c7c-8257-deea5d7f9dba&quot;</span><span class="p">,</span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="s2">&quot;-Hilling-Karole@email.com&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;-Doud-Varley&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320355145103</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.view&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.441962Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00397996-f7e0-4035-9271-3e48ee66d525&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Yanish-Lanctot@email.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Busbey-Vadala&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532237472321186</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.view&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="user-view-profile-event">User view profile event<a class="headerlink" href="#user-view-profile-event" title="Permanent link">#</a></h3>
<p>Whenever user profile is viewed, <code>users</code> service will generate new <code>view_profile</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693308867001-0&quot;
2)  1) &quot;id&quot;
    2) &quot;64fd20bf-e8fb-46bf-9b64-2a6572eda21b&quot;
    3) &quot;name&quot;
    4) &quot;admin&quot;
    5) &quot;identity&quot;
    6) &quot;admin@example.com&quot;
    7) &quot;metadata&quot;
    8) &quot;{\&quot;role\&quot;:\&quot;admin\&quot;}&quot;
    9) &quot;created_at&quot;
    10) &quot;2023-08-29T10:55:23.048948Z&quot;
    11) &quot;status&quot;
    12) &quot;enabled&quot;
    13) &quot;occurred_at&quot;
    14) &quot;1693308867001792403&quot;
    15) &quot;operation&quot;
    16) &quot;user.view_profile&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">19</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mf">01+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T11:59:02.029606Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;97466511-6317-4c98-8d58-7bd78bcaf587&quot;</span><span class="p">,</span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="s2">&quot;admin@example.com&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;eyJyb2xlIjoiYWRtaW4ifQ==&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696524061363472648</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.view_profile&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<h3 id="user-list-event">User list event<a class="headerlink" href="#user-list-event" title="Permanent link">#</a></h3>
<p>Whenever user list is fetched, <code>users</code> service will generate new <code>list</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172254-0&quot;
2)  1) &quot;status&quot;
    2) &quot;enabled&quot;
    3) &quot;occurred_at&quot;
    4) &quot;1693307172254687479&quot;
    5) &quot;operation&quot;
    6) &quot;user.list&quot;
    7) &quot;total&quot;
    8) &quot;0&quot;
    9) &quot;offset&quot;
    10) &quot;0&quot;
    11) &quot;limit&quot;
    12) &quot;10&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320382884278</span><span class="p">,</span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.list&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532237475179227</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.list&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="user-list-by-group-event">User list by group event<a class="headerlink" href="#user-list-by-group-event" title="Permanent link">#</a></h3>
<p>Whenever user list by group is fetched, <code>users</code> service will generate new <code>list_by_group</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693308952544-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;user.list_by_group&quot;
    3) &quot;total&quot;
    4) &quot;0&quot;
    5) &quot;offset&quot;
    6) &quot;0&quot;
    7) &quot;limit&quot;
    8) &quot;10&quot;
    9) &quot;group_id&quot;
    10) &quot;bc7fb023-70d5-41aa-bf73-3eab1cf001c9&quot;
    11) &quot;status&quot;
    12) &quot;enabled&quot;
    13) &quot;occurred_at&quot;
    14) &quot;1693308952544612677&quot;
</code></pre></div>
<h3 id="user-identify-event">User identify event<a class="headerlink" href="#user-identify-event" title="Permanent link">#</a></h3>
<p>Whenever user is identified, <code>users</code> service will generate new <code>identify</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172168-0&quot;
2) 1) &quot;operation&quot;
    2) &quot;user.identify&quot;
    3) &quot;user_id&quot;
    4) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    5) &quot;occurred_at&quot;
    6) &quot;1693307172167980303&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">15</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mf">22+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696507882455392181</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.identify&quot;</span><span class="p">,</span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="s2">&quot;733005f5-7a69-4da3-adac-1ac3bd6fdedf&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532232453091076</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.identify&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="user-generate-reset-token-event">User generate reset token event<a class="headerlink" href="#user-generate-reset-token-event" title="Permanent link">#</a></h3>
<p>Whenever user reset token is generated, <code>users</code> service will generate new <code>generate_reset_token</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693310458376-0&quot;
2) 1) &quot;operation&quot;
    2) &quot;user.generate_reset_token&quot;
    3) &quot;email&quot;
    4) &quot;rodneydav@gmail.com&quot;
    5) &quot;host&quot;
    6) &quot;http://localhost&quot;
    7) &quot;occurred_at&quot;
    8) &quot;1693310458376066097&quot;
</code></pre></div>
<h3 id="user-issue-token-event">User issue token event<a class="headerlink" href="#user-issue-token-event" title="Permanent link">#</a></h3>
<p>Whenever user token is issued, <code>users</code> service will generate new <code>issue_token</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307171987-0&quot;
2) 1) &quot;operation&quot;
    2) &quot;user.issue_token&quot;
    3) &quot;identity&quot;
    4) &quot;-small-flower@email.com&quot;
    5) &quot;occurred_at&quot;
    6) &quot;1693307171987023095&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">14</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mf">02+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="s2">&quot;admin@example.com&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696507142218064965</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.issue_token&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Comley-Hipp@email.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532232391996417</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.issue_token&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="user-refresh-token-event">User refresh token event<a class="headerlink" href="#user-refresh-token-event" title="Permanent link">#</a></h3>
<p>Whenever user token is refreshed, <code>users</code> service will generate new <code>refresh_token</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693309886622-0&quot;
2) 1) &quot;operation&quot;
    2) &quot;user.refresh_token&quot;
    3) &quot;occurred_at&quot;
    4) &quot;1693309886622414715&quot;
</code></pre></div>
<h3 id="user-reset-secret-event">User reset secret event<a class="headerlink" href="#user-reset-secret-event" title="Permanent link">#</a></h3>
<p>Whenever user secret is reset, <code>users</code> service will generate new <code>reset_secret</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693311075789-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;user.update_secret&quot;
    3) &quot;updated_by&quot;
    4) &quot;34591d29-13eb-49f8-995b-e474911eeb8a&quot;
    5) &quot;name&quot;
    6) &quot;rodney&quot;
    7) &quot;created_at&quot;
    8) &quot;2023-08-29T11:59:51.456429Z&quot;
    9) &quot;status&quot;
    10) &quot;enabled&quot;
    11) &quot;occurred_at&quot;
    12) &quot;1693311075789446621&quot;
    13) &quot;updated_at&quot;
    14) &quot;2023-08-29T12:11:15.785039Z&quot;
    15) &quot;id&quot;
    16) &quot;34591d29-13eb-49f8-995b-e474911eeb8a&quot;
    17) &quot;identity&quot;
    18) &quot;rodneydav@gmail.com&quot;
    19) &quot;metadata&quot;
    20) &quot;{}&quot;
</code></pre></div>
<h3 id="user-update-event">User update event<a class="headerlink" href="#user-update-event" title="Permanent link">#</a></h3>
<p>Whenever user instance is updated, <code>users</code> service will generate new <code>update</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172308-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;user.update&quot;
    3) &quot;updated_by&quot;
    4) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    5) &quot;id&quot;
    6) &quot;56d2a797-dcb9-4fab-baf9-7c75e707b2c0&quot;
    7) &quot;metadata&quot;
    8) &quot;{\&quot;Update\&quot;:\&quot;rough-leaf\&quot;}&quot;
    9) &quot;updated_at&quot;
    10) &quot;2023-08-29T11:06:12.294444Z&quot;
    11) &quot;name&quot;
    12) &quot;fragrant-voice&quot;
    13) &quot;identity&quot;
    14) &quot;-snowy-wave@email.com&quot;
    15) &quot;created_at&quot;
    16) &quot;2023-08-29T11:06:12.032254Z&quot;
    17) &quot;status&quot;
    18) &quot;enabled&quot;
    19) &quot;occurred_at&quot;
    20) &quot;1693307172308305030&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.219889Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;d4baecb8-adfa-4c7c-8257-deea5d7f9dba&quot;</span><span class="p">,</span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="s2">&quot;-Hilling-Karole@email.com&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;eyJVcGRhdGUiOiJBbGVncmlhLVdvbGwifQ==&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Rhude-Parrillo&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320510448519</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.update&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.500637Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.441962Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00397996-f7e0-4035-9271-3e48ee66d525&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Yanish-Lanctot@email.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJVcGRhdGUiOiJWZW5hYmxlcy1IeW1hbiJ9&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Eicholtz-Stallabrass&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242530064639</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.update&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.519652Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="user-update-identity-event">User update identity event<a class="headerlink" href="#user-update-identity-event" title="Permanent link">#</a></h3>
<p>Whenever user identity is updated, <code>users</code> service will generate new <code>update_identity</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172321-0&quot;
2)  1) &quot;metadata&quot;
    2) &quot;{\&quot;Update\&quot;:\&quot;rough-leaf\&quot;}&quot;
    3) &quot;created_at&quot;
    4) &quot;2023-08-29T11:06:12.032254Z&quot;
    5) &quot;status&quot;
    6) &quot;enabled&quot;
    7) &quot;updated_at&quot;
    8) &quot;2023-08-29T11:06:12.310276Z&quot;
    9) &quot;updated_by&quot;
    10) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    11) &quot;id&quot;
    12) &quot;56d2a797-dcb9-4fab-baf9-7c75e707b2c0&quot;
    13) &quot;name&quot;
    14) &quot;fragrant-voice&quot;
    15) &quot;operation&quot;
    16) &quot;user.update_identity&quot;
    17) &quot;identity&quot;
    18) &quot;wandering-brook&quot;
    19) &quot;occurred_at&quot;
    20) &quot;1693307172320906479&quot;
</code></pre></div>
<ol>
<li>In Nats JetStream</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.219889Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;d4baecb8-adfa-4c7c-8257-deea5d7f9dba&quot;</span><span class="p">,</span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="s2">&quot;Andes-Bahgat&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;eyJVcGRhdGUiOiJBbGVncmlhLVdvbGwifQ==&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Rhude-Parrillo&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320527730565</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.update_identity&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.518477Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.441962Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00397996-f7e0-4035-9271-3e48ee66d525&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cris-Unkles&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJVcGRhdGUiOiJWZW5hYmxlcy1IeW1hbiJ9&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Eicholtz-Stallabrass&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242534643742</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.update_identity&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.532198Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="user-update-tags-event">User update tags event<a class="headerlink" href="#user-update-tags-event" title="Permanent link">#</a></h3>
<p>Whenever user tags are updated, <code>users</code> service will generate new <code>update_tags</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172332-0&quot;
2)  1) &quot;name&quot;
    2) &quot;fragrant-voice&quot;
    3) &quot;identity&quot;
    4) &quot;wandering-brook&quot;
    5) &quot;metadata&quot;
    6) &quot;{\&quot;Update\&quot;:\&quot;rough-leaf\&quot;}&quot;
    7) &quot;status&quot;
    8) &quot;enabled&quot;
    9) &quot;updated_at&quot;
    10) &quot;2023-08-29T11:06:12.323039Z&quot;
    11) &quot;updated_by&quot;
    12) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    13) &quot;id&quot;
    14) &quot;56d2a797-dcb9-4fab-baf9-7c75e707b2c0&quot;
    15) &quot;occurred_at&quot;
    16) &quot;1693307172332766275&quot;
    17) &quot;operation&quot;
    18) &quot;user.update_tags&quot;
    19) &quot;tags&quot;
    20) &quot;[patient-thunder]&quot;
    21) &quot;created_at&quot;
    22) &quot;2023-08-29T11:06:12.032254Z&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.219889Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;d4baecb8-adfa-4c7c-8257-deea5d7f9dba&quot;</span><span class="p">,</span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="s2">&quot;Andes-Bahgat&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;eyJVcGRhdGUiOiJBbGVncmlhLVdvbGwifQ==&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Rhude-Parrillo&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320537588492</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.update_tags&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="s2">&quot;[Tischler-Persechino]&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.533159Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.441962Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00397996-f7e0-4035-9271-3e48ee66d525&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;identity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cris-Unkles&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJVcGRhdGUiOiJWZW5hYmxlcy1IeW1hbiJ9&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Eicholtz-Stallabrass&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242539607155</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.update_tags&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[Jagdish-Daneshzadeh]&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.536891Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="user-remove-event">User remove event<a class="headerlink" href="#user-remove-event" title="Permanent link">#</a></h3>
<p>Whenever user instance changes state in the system, <code>users</code> service will generate and publish new <code>remove</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172345-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;user.remove&quot;
    3) &quot;id&quot;
    4) &quot;56d2a797-dcb9-4fab-baf9-7c75e707b2c0&quot;
    5) &quot;status&quot;
    6) &quot;disabled&quot;
    7) &quot;updated_at&quot;
    8) &quot;2023-08-29T11:06:12.323039Z&quot;
    9) &quot;updated_by&quot;
    10) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    11) &quot;occurred_at&quot;
    12) &quot;1693307172345419824&quot;

1) &quot;1693307172359-0&quot;
2)  1) &quot;id&quot;
    2) &quot;56d2a797-dcb9-4fab-baf9-7c75e707b2c0&quot;
    3) &quot;status&quot;
    4) &quot;enabled&quot;
    5) &quot;updated_at&quot;
    6) &quot;2023-08-29T11:06:12.323039Z&quot;
    7) &quot;updated_by&quot;
    8) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    9) &quot;occurred_at&quot;
    10) &quot;1693307172359445655&quot;
    11) &quot;operation&quot;
    12) &quot;user.remove&quot;
</code></pre></div>
<ol>
<li>In Nats JetStream</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">17</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mf">29+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;0a5f2e21-1a8b-460e-bfa9-732e570df095&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696517969187562377</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;user.remove&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;0001-01-01T00:00:00Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00397996-f7e0-4035-9271-3e48ee66d525&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242544658933</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user.remove&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.536891Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="group-create-event">Group create event<a class="headerlink" href="#group-create-event" title="Permanent link">#</a></h3>
<p>Whenever group is created, <code>users</code> service will generate new <code>create</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172153-0&quot;
2)  1) &quot;name&quot;
    2) &quot;-fragrant-resonance&quot;
    3) &quot;metadata&quot;
    4) &quot;{}&quot;
    5) &quot;occurred_at&quot;
    6) &quot;1693307172152850138&quot;
    7) &quot;operation&quot;
    8) &quot;group.create&quot;
    9) &quot;id&quot;
    10) &quot;bc7fb023-70d5-41aa-bf73-3eab1cf001c9&quot;
    11) &quot;status&quot;
    12) &quot;enabled&quot;
    13) &quot;created_at&quot;
    14) &quot;2023-08-29T11:06:12.129484Z&quot;
    15) &quot;owner&quot;
    16) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
</code></pre></div>
<p>As you can see from this example, every odd field represents field name while every even field represents field value. This is standard event format for Redis Streams. If you want to extract <code>metadata</code> field from this event, you'll have to read it as string first and then you can deserialize it to some structured format.</p>
<ol>
<li>In Nats JetStream</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">00+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T13:12:00.88713Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;f565885c-826d-4c4c-9277-a3c8537aadff&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;cyclopes&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696511520897093737</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;group.create&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;97466511-6317-4c98-8d58-7bd78bcaf587&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.447093Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d9c550f9-e644-453b-af5b-1ab7e9a99d9d&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Zarella-Knobeloch&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532232450859819</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;group.create&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="group-update-event">Group update event<a class="headerlink" href="#group-update-event" title="Permanent link">#</a></h3>
<p>Whenever group instance is updated, <code>users</code> service will generate new <code>update</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172445-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;group.update&quot;
    3) &quot;owner&quot;
    4) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    5) &quot;name&quot;
    6) &quot;young-paper&quot;
    7) &quot;occurred_at&quot;
    8) &quot;1693307172445370750&quot;
    9) &quot;updated_at&quot;
    10) &quot;2023-08-29T11:06:12.429555Z&quot;
    11) &quot;updated_by&quot;
    12) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    13) &quot;id&quot;
    14) &quot;bc7fb023-70d5-41aa-bf73-3eab1cf001c9&quot;
    15) &quot;metadata&quot;
    16) &quot;{\&quot;Update\&quot;:\&quot;spring-wood\&quot;}&quot;
    17) &quot;created_at&quot;
    18) &quot;2023-08-29T11:06:12.129484Z&quot;
    19) &quot;status&quot;
    20) &quot;enabled&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.22859Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;cabccc8d-937b-4d92-832b-48d7a466e19e&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;eyJVcGRhdGUiOiJSZWdvLVJlZHdheSJ9&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Reiger-Cheal&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320573615888</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;group.update&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.56848Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.447093Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d9c550f9-e644-453b-af5b-1ab7e9a99d9d&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJVcGRhdGUiOiJCaW5ueS1TYXZhZGtvdWhpIn0=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Knick-Doskas&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242554817001</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;group.update&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.552421Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="group-view-event">Group view event<a class="headerlink" href="#group-view-event" title="Permanent link">#</a></h3>
<p>Whenever group is viewed, <code>users</code> service will generate new <code>view</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172257-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693307172257041358&quot;
    3) &quot;operation&quot;
    4) &quot;group.view&quot;
    5) &quot;id&quot;
    6) &quot;bc7fb023-70d5-41aa-bf73-3eab1cf001c9&quot;
    7) &quot;owner&quot;
    8) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    9) &quot;name&quot;
    10) &quot;-fragrant-resonance&quot;
    11) &quot;metadata&quot;
    12) &quot;{}&quot;
    13) &quot;created_at&quot;
    14) &quot;2023-08-29T11:06:12.129484Z&quot;
    15) &quot;status&quot;
    16) &quot;enabled&quot;
</code></pre></div>
<ol>
<li>In Nats JetStream</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.22859Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;cabccc8d-937b-4d92-832b-48d7a466e19e&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;-Conneely-Chiang&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320392002702</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;group.view&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.447093Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d9c550f9-e644-453b-af5b-1ab7e9a99d9d&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Zarella-Knobeloch&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532237477518526</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;group.view&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="group-list-event">Group list event<a class="headerlink" href="#group-list-event" title="Permanent link">#</a></h3>
<p>Whenever group list is fetched, <code>users</code> service will generate new <code>list</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172264-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693307172264183217&quot;
    3) &quot;operation&quot;
    4) &quot;group.list&quot;
    5) &quot;total&quot;
    6) &quot;0&quot;
    7) &quot;offset&quot;
    8) &quot;0&quot;
    9) &quot;limit&quot;
    10) &quot;10&quot;
    11) &quot;status&quot;
    12) &quot;enabled&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">19</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mf">01+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696524061330756963</span><span class="p">,</span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;group.list&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;all&quot;</span><span class="p">,</span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532237481188226</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;group.list&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="group-list-by-user-event">Group list by user event<a class="headerlink" href="#group-list-by-user-event" title="Permanent link">#</a></h3>
<p>Whenever group list by user is fetched, <code>users</code> service will generate new <code>list_by_user</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693308937283-0&quot;
2)  1) &quot;limit&quot;
    2) &quot;10&quot;
    3) &quot;channel_id&quot;
    4) &quot;bb1a7b38-cd79-410d-aca7-e744decd7b8e&quot;
    5) &quot;status&quot;
    6) &quot;enabled&quot;
    7) &quot;occurred_at&quot;
    8) &quot;1693308937282933017&quot;
    9) &quot;operation&quot;
    10) &quot;group.list_by_user&quot;
    11) &quot;total&quot;
    12) &quot;0&quot;
    13) &quot;offset&quot;
    14) &quot;0&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">19</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mf">01+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696524061330756963</span><span class="p">,</span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;group.list&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;all&quot;</span><span class="p">,</span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</code></pre></div>
<h3 id="group-remove-event">Group remove event<a class="headerlink" href="#group-remove-event" title="Permanent link">#</a></h3>
<p>Whenever group instance changes state in the system, <code>users</code> service will generate and publish new <code>remove</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693307172460-0&quot;
2)  1) &quot;updated_by&quot;
    2) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    3) &quot;occurred_at&quot;
    4) &quot;1693307172459828786&quot;
    5) &quot;operation&quot;
    6) &quot;group.remove&quot;
    7) &quot;id&quot;
    8) &quot;bc7fb023-70d5-41aa-bf73-3eab1cf001c9&quot;
    9) &quot;status&quot;
    10) &quot;disabled&quot;
    11) &quot;updated_at&quot;
    12) &quot;2023-08-29T11:06:12.429555Z&quot;

1) &quot;1693307172473-0&quot;
2)  1) &quot;id&quot;
    2) &quot;bc7fb023-70d5-41aa-bf73-3eab1cf001c9&quot;
    3) &quot;status&quot;
    4) &quot;enabled&quot;
    5) &quot;updated_at&quot;
    6) &quot;2023-08-29T11:06:12.429555Z&quot;
    7) &quot;updated_by&quot;
    8) &quot;e1b982d8-a332-4bc2-aaff-4bbaa86880fc&quot;
    9) &quot;occurred_at&quot;
    10) &quot;1693307172473661564&quot;
    11) &quot;operation&quot;
    12) &quot;group.remove&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;cabccc8d-937b-4d92-832b-48d7a466e19e&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320583695115</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;group.remove&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.56848Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>

<span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;cabccc8d-937b-4d92-832b-48d7a466e19e&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320592509139</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;group.remove&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.56848Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d9c550f9-e644-453b-af5b-1ab7e9a99d9d&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242559729288</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;group.remove&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.552421Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-authorize-event">Policy authorize event<a class="headerlink" href="#policy-authorize-event" title="Permanent link">#</a></h3>
<p>Whenever policy is authorized, <code>users</code> service will generate new <code>authorize</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470724-0&quot;
2)  1) &quot;entity_type&quot;
    2) &quot;thing&quot;
    3) &quot;object&quot;
    4) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    5) &quot;actions&quot;
    6) &quot;c_list&quot;
    7) &quot;occurred_at&quot;
    8) &quot;1693311470724174126&quot;
    9) &quot;operation&quot;
    10) &quot;policies.authorize&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">15</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">07+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;c_list&quot;</span><span class="p">,</span><span class="nt">&quot;entity_type&quot;</span><span class="p">:</span><span class="s2">&quot;client&quot;</span><span class="p">,</span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="s2">&quot;things&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696507927648459930</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;policies.authorize&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;g_list&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;entity_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;group&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;things&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697536686571995884</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.authorize&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-add-event">Policy add event<a class="headerlink" href="#policy-add-event" title="Permanent link">#</a></h3>
<p>Whenever policy is added, <code>users</code> service will generate new <code>add</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470721-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;policies.add&quot;
    3) &quot;owner_id&quot;
    4) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    5) &quot;subject&quot;
    6) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    7) &quot;object&quot;
    8) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    9) &quot;actions&quot;
    10) &quot;[g_add,c_list]&quot;
    11) &quot;created_at&quot;
    12) &quot;2023-08-29T12:17:50.715541Z&quot;
    13) &quot;occurred_at&quot;
    14) &quot;1693311470721394773&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.users</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">16</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span><span class="mf">21+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="s2">&quot;[m_read]&quot;</span><span class="p">,</span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="s2">&quot;f565885c-826d-4c4c-9277-a3c8537aadff&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696511601827118557</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;policies.add&quot;</span><span class="p">,</span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="s2">&quot;0a5f2e21-1a8b-460e-bfa9-732e570df095&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[c_list,c_update,c_delete]&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d9c550f9-e644-453b-af5b-1ab7e9a99d9d&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697538038965204061</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.add&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;df0a29f6-df00-46e8-bde5-cbdf418510da&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-update-event">Policy update event<a class="headerlink" href="#policy-update-event" title="Permanent link">#</a></h3>
<p>Whenever policy is updated, <code>users</code> service will generate new <code>update</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693312500101-0&quot;
2)  1) &quot;updated_at&quot;
    2) &quot;2023-08-29T12:35:00.095028Z&quot;
    3) &quot;occurred_at&quot;
    4) &quot;1693312500101367995&quot;
    5) &quot;operation&quot;
    6) &quot;policies.update&quot;
    7) &quot;owner_id&quot;
    8) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    9) &quot;subject&quot;
    10) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    11) &quot;object&quot;
    12) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    13) &quot;actions&quot;
    14) &quot;[g_add,c_list]&quot;
    15) &quot;created_at&quot;
    16) &quot;2023-08-29T12:17:50.715541Z&quot;
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[g_list]&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0f551d14-0efe-4b5e-bc96-b9cd834e91d1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697538056924321702</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.update&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bd3f51f6-d84e-41d9-8205-f725c6b5e774&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-remove-event">Policy remove event<a class="headerlink" href="#policy-remove-event" title="Permanent link">#</a></h3>
<p>Whenever policy is removed, <code>users</code> service will generate new <code>remove</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693312590631-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693312590631691388&quot;
    3) &quot;operation&quot;
    4) &quot;policies.delete&quot;
    5) &quot;subject&quot;
    6) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    7) &quot;object&quot;
    8) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    9) &quot;actions&quot;
    10) &quot;[g_add,c_list]&quot;
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0f551d14-0efe-4b5e-bc96-b9cd834e91d1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697538064359063507</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.delete&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bd3f51f6-d84e-41d9-8205-f725c6b5e774&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-list-event">Policy list event<a class="headerlink" href="#policy-list-event" title="Permanent link">#</a></h3>
<p>Whenever policy list is fetched, <code>things</code> service will generate new <code>list</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693312633649-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;policies.list&quot;
    3) &quot;total&quot;
    4) &quot;0&quot;
    5) &quot;limit&quot;
    6) &quot;10&quot;
    7) &quot;offset&quot;
    8) &quot;0&quot;
    9) &quot;occurred_at&quot;
    10) &quot;1693312633649171129&quot;
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697536690236286573</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.list&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="things-service">Things Service<a class="headerlink" href="#things-service" title="Permanent link">#</a></h2>
<p>For every operation that has side effects (that is changing service state) <code>things</code> service will generate new event and publish it to Redis Stream called <code>magistrala.things</code>. Every event has its own event ID that is automatically generated and <code>operation</code> field that can have one of the following values:</p>
<ul>
<li><code>thing.create</code> for thing creation</li>
<li><code>thing.update</code> for thing update</li>
<li><code>thing.remove</code> for thing change of state</li>
<li><code>thing.view</code> for thing view</li>
<li><code>thing.list</code> for listing things</li>
<li><code>thing.list_by_channel</code> for listing things by channel</li>
<li><code>thing.identify</code> for thing identification</li>
<li><code>channel.create</code> for channel creation</li>
<li><code>channel.update</code> for channel update</li>
<li><code>channel.remove</code> for channel change of state</li>
<li><code>channel.view</code> for channel view</li>
<li><code>channel.list</code> for listing channels</li>
<li><code>channel.list_by_thing</code> for listing channels by thing</li>
<li><code>policy.authorize</code> for policy authorization</li>
<li><code>policy.add</code> for policy creation</li>
<li><code>policy.update</code> for policy update</li>
<li><code>policy.remove</code> for policy deletion</li>
<li><code>policy.list</code> for listing policies</li>
</ul>
<p>By fetching and processing these events you can reconstruct <code>things</code> service state. If you store some of your custom data in <code>metadata</code> field, this is the perfect way to fetch it and process it. If you want to integrate through <a href="https://github.com/absmach/magistrala/blob/main/docker/docker-compose.yml">docker-compose.yml</a> you can use <code>magistrala-es-redis</code> service. Just connect to it and consume events from Redis Stream named <code>magistrala.things</code>.</p>
<h3 id="thing-create-event">Thing create event<a class="headerlink" href="#thing-create-event" title="Permanent link">#</a></h3>
<p>Whenever thing is created, <code>things</code> service will generate new <code>create</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) 1) &quot;1693311470576-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;thing.create&quot;
    3) &quot;id&quot;
    4) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    5) &quot;status&quot;
    6) &quot;enabled&quot;
    7) &quot;created_at&quot;
    8) &quot;2023-08-29T12:17:50.566453Z&quot;
    9) &quot;name&quot;
    10) &quot;-broken-cloud&quot;
    11) &quot;owner&quot;
    12) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    13) &quot;metadata&quot;
    14) &quot;{}&quot;
    15) &quot;occurred_at&quot;
    16) &quot;1693311470576589894&quot;
</code></pre></div>
<p>As you can see from this example, every odd field represents field name while every even field represents field value. This is standard event format for Redis Streams. If you want to extract <code>metadata</code> field from this event, you'll have to read it as string first and then you can deserialize it to some structured format.</p>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">15</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mf">04+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T12:41:04.833207Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;9745f2ea-f776-46b1-9b44-1cfd1ad4c6f1&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;d0&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696509664860397827</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.create&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;0a5f2e21-1a8b-460e-bfa9-732e570df095&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.453621Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;83c884cc-51b7-40ab-a98f-83ea93f4cdd6&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Maune-Tuttle&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532232459167722</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thing.create&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="thing-update-event">Thing update event<a class="headerlink" href="#thing-update-event" title="Permanent link">#</a></h3>
<p>Whenever thing instance is updated, <code>things</code> service will generate new <code>update</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470669-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;thing.update&quot;
    3) &quot;updated_at&quot;
    4) &quot;2023-08-29T12:17:50.665752Z&quot;
    5) &quot;updated_by&quot;
    6) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    7) &quot;owner&quot;
    8) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    9) &quot;created_at&quot;
    10) &quot;2023-08-29T12:17:50.566453Z&quot;
    11) &quot;status&quot;
    12) &quot;enabled&quot;
    13) &quot;id&quot;
    14) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    15) &quot;name&quot;
    16) &quot;lingering-sea&quot;
    17) &quot;metadata&quot;
    18) &quot;{\&quot;Update\&quot;:\&quot;nameless-glitter\&quot;}&quot;
    19) &quot;occurred_at&quot;
    20) &quot;1693311470669567023&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.264564Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;47540f84-029b-436f-89b5-3c10f87e302b&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;eyJVcGRhdGUiOiJCZXJuYXJkLUJyaWNrZXkifQ==&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Bence-Jefferson&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320614766498</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.update&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.606662Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.453621Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;83c884cc-51b7-40ab-a98f-83ea93f4cdd6&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJVcGRhdGUiOiJTdGV2ZW5zb24tTW9udHNpb24ifQ==&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Marner-Shapiro&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242575070481</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thing.update&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.571677Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="thing-update-secret-event">Thing update secret event<a class="headerlink" href="#thing-update-secret-event" title="Permanent link">#</a></h3>
<p>Whenever thing secret is updated, <code>things</code> service will generate new <code>update_secret</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470676-0&quot;
2)  1) &quot;id&quot;
    2) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    3) &quot;name&quot;
    4) &quot;lingering-sea&quot;
    5) &quot;metadata&quot;
    6) &quot;{\&quot;Update\&quot;:\&quot;nameless-glitter\&quot;}&quot;
    7) &quot;status&quot;
    8) &quot;enabled&quot;
    9) &quot;occurred_at&quot;
    10) &quot;1693311470676563107&quot;
    11) &quot;operation&quot;
    12) &quot;thing.update_secret&quot;
    13) &quot;updated_at&quot;
    14) &quot;2023-08-29T12:17:50.672865Z&quot;
    15) &quot;updated_by&quot;
    16) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    17) &quot;owner&quot;
    18) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    19) &quot;created_at&quot;
    20) &quot;2023-08-29T12:17:50.566453Z&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.264564Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;47540f84-029b-436f-89b5-3c10f87e302b&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;eyJVcGRhdGUiOiJCZXJuYXJkLUJyaWNrZXkifQ==&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Bence-Jefferson&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320633637049</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.update_secret&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.625663Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.453621Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;83c884cc-51b7-40ab-a98f-83ea93f4cdd6&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJVcGRhdGUiOiJTdGV2ZW5zb24tTW9udHNpb24ifQ==&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Marner-Shapiro&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242583980252</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thing.update_secret&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.580896Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="thing-update-tags-event">Thing update tags event<a class="headerlink" href="#thing-update-tags-event" title="Permanent link">#</a></h3>
<p>Whenever thing tags are updated, <code>things</code> service will generate new <code>update_tags</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470682-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;thing.update_tags&quot;
    3) &quot;owner&quot;
    4) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    5) &quot;metadata&quot;
    6) &quot;{\&quot;Update\&quot;:\&quot;nameless-glitter\&quot;}&quot;
    7) &quot;status&quot;
    8) &quot;enabled&quot;
    9) &quot;occurred_at&quot;
    10) &quot;1693311470682522926&quot;
    11) &quot;updated_at&quot;
    12) &quot;2023-08-29T12:17:50.679301Z&quot;
    13) &quot;updated_by&quot;
    14) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    15) &quot;id&quot;
    16) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    17) &quot;name&quot;
    18) &quot;lingering-sea&quot;
    19) &quot;tags&quot;
    20) &quot;[morning-pine]&quot;
    21) &quot;created_at&quot;
    22) &quot;2023-08-29T12:17:50.566453Z&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.264564Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;47540f84-029b-436f-89b5-3c10f87e302b&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;eyJVcGRhdGUiOiJCZXJuYXJkLUJyaWNrZXkifQ==&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Bence-Jefferson&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320651750298</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.update_tags&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="s2">&quot;[Kac-Kimma]&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.643285Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.453621Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;83c884cc-51b7-40ab-a98f-83ea93f4cdd6&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJVcGRhdGUiOiJTdGV2ZW5zb24tTW9udHNpb24ifQ==&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Marner-Shapiro&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242593091501</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thing.update_tags&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[Donni-Planting]&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.589939Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="thing-remove-event">Thing remove event<a class="headerlink" href="#thing-remove-event" title="Permanent link">#</a></h3>
<p>Whenever thing instance is removed from the system, <code>things</code> service will generate and publish new <code>remove</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470689-0&quot;
2)  1) &quot;updated_by&quot;
    2) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    3) &quot;occurred_at&quot;
    4) &quot;1693311470688911826&quot;
    5) &quot;operation&quot;
    6) &quot;thing.remove&quot;
    7) &quot;id&quot;
    8) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    9) &quot;status&quot;
    10) &quot;disabled&quot;
    11) &quot;updated_at&quot;
    12) &quot;2023-08-29T12:17:50.679301Z&quot;

1) &quot;1693311470695-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;thing.remove&quot;
    3) &quot;id&quot;
    4) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    5) &quot;status&quot;
    6) &quot;enabled&quot;
    7) &quot;updated_at&quot;
    8) &quot;2023-08-29T12:17:50.679301Z&quot;
    9) &quot;updated_by&quot;
    10) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    11) &quot;occurred_at&quot;
    12) &quot;1693311470695446948&quot;
</code></pre></div>
<ol>
<li>In Nats JetsStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;47540f84-029b-436f-89b5-3c10f87e302b&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320674227458</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.remove&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.643285Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>

<span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;47540f84-029b-436f-89b5-3c10f87e302b&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320692289306</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.remove&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.643285Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;83c884cc-51b7-40ab-a98f-83ea93f4cdd6&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242603326333</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thing.remove&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.589939Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="thing-view-event">Thing view event<a class="headerlink" href="#thing-view-event" title="Permanent link">#</a></h3>
<p>Whenever thing is viewed, <code>things</code> service will generate new <code>view</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470608-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;thing.view&quot;
    3) &quot;id&quot;
    4) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    5) &quot;name&quot;
    6) &quot;-broken-cloud&quot;
    7) &quot;owner&quot;
    8) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    9) &quot;metadata&quot;
    10) &quot;{}&quot;
    11) &quot;created_at&quot;
    12) &quot;2023-08-29T12:17:50.566453Z&quot;
    13) &quot;status&quot;
    14) &quot;enabled&quot;
    15) &quot;occurred_at&quot;
    16) &quot;1693311470608701504&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">15</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mf">00+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T12:41:04.833207Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;9745f2ea-f776-46b1-9b44-1cfd1ad4c6f1&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;d0&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696509720925490970</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.view&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;0a5f2e21-1a8b-460e-bfa9-732e570df095&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.453621Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;83c884cc-51b7-40ab-a98f-83ea93f4cdd6&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Maune-Tuttle&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532237490995357</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thing.view&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="thing-list-event">Thing list event<a class="headerlink" href="#thing-list-event" title="Permanent link">#</a></h3>
<p>Whenever thing list is fetched, <code>things</code> service will generate new <code>list</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470613-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693311470613173088&quot;
    3) &quot;operation&quot;
    4) &quot;thing.list&quot;
    5) &quot;total&quot;
    6) &quot;0&quot;
    7) &quot;offset&quot;
    8) &quot;0&quot;
    9) &quot;limit&quot;
    10) &quot;10&quot;
    11) &quot;status&quot;
    12) &quot;enabled&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320459999484</span><span class="p">,</span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.list&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532237496534968</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thing.list&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="thing-list-by-channel-event">Thing list by channel event<a class="headerlink" href="#thing-list-by-channel-event" title="Permanent link">#</a></h3>
<p>Whenever thing list by channel is fetched, <code>things</code> service will generate new <code>list_by_channel</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693312322620-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;thing.list_by_channel&quot;
    3) &quot;total&quot;
    4) &quot;0&quot;
    5) &quot;offset&quot;
    6) &quot;0&quot;
    7) &quot;limit&quot;
    8) &quot;10&quot;
    9) &quot;channel_id&quot;
    10) &quot;8d77099e-4911-4140-8555-7d3be65a1694&quot;
    11) &quot;status&quot;
    12) &quot;enabled&quot;
    13) &quot;occurred_at&quot;
    14) &quot;1693312322620481072&quot;
</code></pre></div>
<h3 id="thing-identify-event">Thing identify event<a class="headerlink" href="#thing-identify-event" title="Permanent link">#</a></h3>
<p>Whenever thing is identified, <code>things</code> service will generate new <code>identify</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693312391155-0&quot;
2) 1) &quot;operation&quot;
    2) &quot;thing.identify&quot;
    3) &quot;thing_id&quot;
    4) &quot;dc82d6bf-973b-4582-9806-0230cee11c20&quot;
    5) &quot;occurred_at&quot;
    6) &quot;1693312391155123548&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320934964056</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.identify&quot;</span><span class="p">,</span><span class="nt">&quot;thing_id&quot;</span><span class="p">:</span><span class="s2">&quot;47540f84-029b-436f-89b5-3c10f87e302b&quot;</span><span class="p">}</span>
</code></pre></div>
<h3 id="channel-create-event">Channel create event<a class="headerlink" href="#channel-create-event" title="Permanent link">#</a></h3>
<p>Whenever channel instance is created, <code>things</code> service will generate and publish new <code>create</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1)  1) &quot;1693311470584-0&quot;
2)  1) &quot;owner&quot;
    2) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    3) &quot;name&quot;
    4) &quot;-frosty-moon&quot;
    5) &quot;metadata&quot;
    6) &quot;{}&quot;
    7) &quot;occurred_at&quot;
    8) &quot;1693311470584416323&quot;
    9) &quot;operation&quot;
    10) &quot;channel.create&quot;
    11) &quot;id&quot;
    12) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    13) &quot;status&quot;
    14) &quot;enabled&quot;
    15) &quot;created_at&quot;
    16) &quot;2023-08-29T12:17:50.57866Z&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">15</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mf">39+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T12:55:39.175568Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;45eb9f35-1360-4051-81e2-9582433a6607&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;hephaestus&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696510539182201160</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;channel.create&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;97466511-6317-4c98-8d58-7bd78bcaf587&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.461635Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b9ae027e-9068-4bff-9ced-45a28351a1ce&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Dortch-Peckett&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532232464401399</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;channel.create&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="channel-update-event">Channel update event<a class="headerlink" href="#channel-update-event" title="Permanent link">#</a></h3>
<p>Whenever channel instance is updated, <code>things</code> service will generate and publish new <code>update</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470701-0&quot;
2)  1) &quot;updated_by&quot;
    2) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    3) &quot;owner&quot;
    4) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    5) &quot;created_at&quot;
    6) &quot;2023-08-29T12:17:50.57866Z&quot;
    7) &quot;status&quot;
    8) &quot;enabled&quot;
    9) &quot;operation&quot;
    10) &quot;channel.update&quot;
    11) &quot;updated_at&quot;
    12) &quot;2023-08-29T12:17:50.698278Z&quot;
    13) &quot;metadata&quot;
    14) &quot;{\&quot;Update\&quot;:\&quot;silent-hill\&quot;}&quot;
    15) &quot;occurred_at&quot;
    16) &quot;1693311470701812291&quot;
    17) &quot;id&quot;
    18) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    19) &quot;name&quot;
    20) &quot;morning-forest&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">29+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T12:41:04.87198Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;5f9d4b76-0717-4859-8ef8-6fcfb81f44d5&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;hestia&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696510829837578155</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;channel.update&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;0a5f2e21-1a8b-460e-bfa9-732e570df095&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T13:00:29.828132Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;97466511-6317-4c98-8d58-7bd78bcaf587&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.461635Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b9ae027e-9068-4bff-9ced-45a28351a1ce&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJVcGRhdGUiOiJTaXNuZXktS29ra2F0In0=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Pelley-Staffing&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242622549294</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;channel.update&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.619432Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Note that update channel event will contain only those fields that were updated using update channel endpoint.</p>
<h3 id="channel-remove-event">Channel remove event<a class="headerlink" href="#channel-remove-event" title="Permanent link">#</a></h3>
<p>Whenever channel instance is removed from the system, <code>things</code> service will generate and publish new <code>remove</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470708-0&quot;
2)  1) &quot;status&quot;
    2) &quot;disabled&quot;
    3) &quot;updated_at&quot;
    4) &quot;2023-08-29T12:17:50.698278Z&quot;
    5) &quot;updated_by&quot;
    6) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    7) &quot;occurred_at&quot;
    8) &quot;1693311470708219296&quot;
    9) &quot;operation&quot;
    10) &quot;channel.remove&quot;
    11) &quot;id&quot;
    12) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;

1) &quot;1693311470714-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693311470714118979&quot;
    3) &quot;operation&quot;
    4) &quot;channel.remove&quot;
    5) &quot;id&quot;
    6) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    7) &quot;status&quot;
    8) &quot;enabled&quot;
    9) &quot;updated_at&quot;
    10) &quot;2023-08-29T12:17:50.698278Z&quot;
    11) &quot;updated_by&quot;
    12) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;e4fa015f-bfad-4f41-bebe-142d3e938d3a&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320726205997</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;channel.remove&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.702159Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>

<span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;e4fa015f-bfad-4f41-bebe-142d3e938d3a&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320786154457</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;channel.remove&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.702159Z&quot;</span><span class="p">,</span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b9ae027e-9068-4bff-9ced-45a28351a1ce&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532242632439430</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;channel.remove&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:44:02.619432Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="channel-view-event">Channel view event<a class="headerlink" href="#channel-view-event" title="Permanent link">#</a></h3>
<p>Whenever channel is viewed, <code>things</code> service will generate new <code>view</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470615-0&quot;
2)  1) &quot;id&quot;
    2) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    3) &quot;owner&quot;
    4) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    5) &quot;name&quot;
    6) &quot;-frosty-moon&quot;
    7) &quot;metadata&quot;
    8) &quot;{}&quot;
    9) &quot;created_at&quot;
    10) &quot;2023-08-29T12:17:50.57866Z&quot;
    11) &quot;status&quot;
    12) &quot;enabled&quot;
    13) &quot;occurred_at&quot;
    14) &quot;1693311470615693019&quot;
    15) &quot;operation&quot;
    16) &quot;channel.view&quot;
</code></pre></div>
<ol>
<li>In Nats JetStream</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T15:38:40.31444Z&quot;</span><span class="p">,</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;e4fa015f-bfad-4f41-bebe-142d3e938d3a&quot;</span><span class="p">,</span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;-Cech-Hargreaves&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320475816826</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;channel.view&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;3264e965-3fe5-4d4e-a857-48de43551d2e&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T08:43:52.461635Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b9ae027e-9068-4bff-9ced-45a28351a1ce&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e30=&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-Dortch-Peckett&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532237504403729</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;channel.view&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b2941bd6-ca98-4c56-8d94-05fbf6a967c4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="channel-list-event">Channel list event<a class="headerlink" href="#channel-list-event" title="Permanent link">#</a></h3>
<p>Whenever channel list is fetched, <code>things</code> service will generate new <code>list</code> event. This event will have the following format:</p>
<ol>
<li>In Redis</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470619-0&quot;
2)  1) &quot;limit&quot;
    2) &quot;10&quot;
    3) &quot;status&quot;
    4) &quot;enabled&quot;
    5) &quot;occurred_at&quot;
    6) &quot;1693311470619194337&quot;
    7) &quot;operation&quot;
    8) &quot;channel.list&quot;
    9) &quot;total&quot;
    10) &quot;0&quot;
    11) &quot;offset&quot;
    12) &quot;0&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320495779280</span><span class="p">,</span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;channel.list&quot;</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697532237512138449</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;channel.list&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="channel-list-by-thing-event">Channel list by thing event<a class="headerlink" href="#channel-list-by-thing-event" title="Permanent link">#</a></h3>
<p>Whenever channel list by thing is fetched, <code>things</code> service will generate new <code>list_by_thing</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693312299484-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693312299484000183&quot;
    3) &quot;operation&quot;
    4) &quot;channel.list_by_thing&quot;
    5) &quot;total&quot;
    6) &quot;0&quot;
    7) &quot;offset&quot;
    8) &quot;0&quot;
    9) &quot;limit&quot;
    10) &quot;10&quot;
    11) &quot;thing_id&quot;
    12) &quot;dc82d6bf-973b-4582-9806-0230cee11c20&quot;
    13) &quot;status&quot;
    14) &quot;enabled&quot;
</code></pre></div>
<h3 id="policy-authorize-event_1">Policy authorize event<a class="headerlink" href="#policy-authorize-event_1" title="Permanent link">#</a></h3>
<p>Whenever policy is authorized, <code>things</code> service will generate new <code>authorize</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470724-0&quot;
2)  1) &quot;entity_type&quot;
    2) &quot;thing&quot;
    3) &quot;object&quot;
    4) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    5) &quot;actions&quot;
    6) &quot;m_read&quot;
    7) &quot;occurred_at&quot;
    8) &quot;1693311470724174126&quot;
    9) &quot;operation&quot;
    10) &quot;policies.authorize&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">40+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="s2">&quot;m_write&quot;</span><span class="p">,</span><span class="nt">&quot;entity_type&quot;</span><span class="p">:</span><span class="s2">&quot;thing&quot;</span><span class="p">,</span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="s2">&quot;e4fa015f-bfad-4f41-bebe-142d3e938d3a&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696520320938561965</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;policies.authorize&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In Rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c_list&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;entity_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;client&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;things&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697536682155214702</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.authorize&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-add-event_1">Policy add event<a class="headerlink" href="#policy-add-event_1" title="Permanent link">#</a></h3>
<p>Whenever policy is added, <code>things</code> service will generate new <code>add</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693311470721-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;policies.add&quot;
    3) &quot;owner_id&quot;
    4) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    5) &quot;subject&quot;
    6) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    7) &quot;object&quot;
    8) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    9) &quot;actions&quot;
    10) &quot;[m_write,m_read]&quot;
    11) &quot;created_at&quot;
    12) &quot;2023-08-29T12:17:50.715541Z&quot;
    13) &quot;occurred_at&quot;
    14) &quot;1693311470721394773&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">15</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mf">04+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="s2">&quot;[m_write,m_read]&quot;</span><span class="p">,</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2023-10-05T12:41:04.901355Z&quot;</span><span class="p">,</span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="s2">&quot;5f9d4b76-0717-4859-8ef8-6fcfb81f44d5&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696509664928590911</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;policies.add&quot;</span><span class="p">,</span><span class="nt">&quot;owner_id&quot;</span><span class="p">:</span><span class="s2">&quot;0a5f2e21-1a8b-460e-bfa9-732e570df095&quot;</span><span class="p">,</span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="s2">&quot;9745f2ea-f776-46b1-9b44-1cfd1ad4c6f1&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[m_read]&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T10:19:44.704766Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b9ae027e-9068-4bff-9ced-45a28351a1ce&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697537984720752374</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.add&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9eef7587-fb81-4db9-bedd-2ccc4f680532&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;87b6a3c2-e498-477f-813e-102a97ae0141&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-update-event_1">Policy update event<a class="headerlink" href="#policy-update-event_1" title="Permanent link">#</a></h3>
<p>Whenever policy is updated, <code>things</code> service will generate new <code>update</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693312500101-0&quot;
2)  1) &quot;updated_at&quot;
    2) &quot;2023-08-29T12:35:00.095028Z&quot;
    3) &quot;occurred_at&quot;
    4) &quot;1693312500101367995&quot;
    5) &quot;operation&quot;
    6) &quot;policies.update&quot;
    7) &quot;owner_id&quot;
    8) &quot;fe2e5de0-9900-4ac5-b364-eae0c35777fb&quot;
    9) &quot;subject&quot;
    10) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    11) &quot;object&quot;
    12) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    13) &quot;actions&quot;
    14) &quot;[m_write,m_read]&quot;
    15) &quot;created_at&quot;
    16) &quot;2023-08-29T12:17:50.715541Z&quot;
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[m_read,m_write]&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T10:19:44.704766Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b9ae027e-9068-4bff-9ced-45a28351a1ce&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697537993401523330</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.update&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9eef7587-fb81-4db9-bedd-2ccc4f680532&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;87b6a3c2-e498-477f-813e-102a97ae0141&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-17T10:19:53.388419Z&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-remove-event_1">Policy remove event<a class="headerlink" href="#policy-remove-event_1" title="Permanent link">#</a></h3>
<p>Whenever policy is removed, <code>things</code> service will generate new <code>remove</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693312590631-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693312590631691388&quot;
    3) &quot;operation&quot;
    4) &quot;policies.delete&quot;
    5) &quot;subject&quot;
    6) &quot;12510af8-b6a7-410d-944c-9feded199d6d&quot;
    7) &quot;object&quot;
    8) &quot;8a85e2d5-e783-43ee-8bea-d6d0f8039e78&quot;
    9) &quot;actions&quot;
    10) &quot;[m_write,m_read]&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.</span><span class="kc">t</span><span class="err">hi</span><span class="kc">n</span><span class="err">gs</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-05</span><span class="err">T</span><span class="mi">16</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mf">15+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="s2">&quot;[m_write,m_read]&quot;</span><span class="p">,</span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="s2">&quot;5f9d4b76-0717-4859-8ef8-6fcfb81f44d5&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696511115507500254</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;policies.delete&quot;</span><span class="p">,</span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="s2">&quot;9745f2ea-f776-46b1-9b44-1cfd1ad4c6f1&quot;</span><span class="p">}</span>
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[m_write,m_read]&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;object&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;053a122e-ea3b-42de-9f5f-9eef7e19491c&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697537995704396106</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.delete&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;323a1297-5ca3-425e-b08f-b4bdf0925f10&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="policy-list-event_1">Policy list event<a class="headerlink" href="#policy-list-event_1" title="Permanent link">#</a></h3>
<p>Whenever policy list is fetched, <code>things</code> service will generate new <code>list</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693312633649-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;policies.list&quot;
    3) &quot;total&quot;
    4) &quot;0&quot;
    5) &quot;limit&quot;
    6) &quot;10&quot;
    7) &quot;offset&quot;
    8) &quot;0&quot;
    9) &quot;occurred_at&quot;
    10) &quot;1693312633649171129&quot;
</code></pre></div>
<ol>
<li>In rabbitmq streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1697536686568649276</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;policies.list&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>Note:</strong> Every one of these events will omit fields that were not used or are not
relevant for specific operation. Also, field ordering is not guaranteed, so DO NOT
rely on it.</p>
</blockquote>
<h2 id="bootstrap-service">Bootstrap Service<a class="headerlink" href="#bootstrap-service" title="Permanent link">#</a></h2>
<p>Bootstrap service publishes events to Redis Stream called <code>magistrala.bootstrap</code>. Every event from this service contains <code>operation</code> field which indicates one of the following event types:</p>
<ul>
<li><code>config.create</code> for configuration creation,</li>
<li><code>config.update</code> for configuration update,</li>
<li><code>config.remove</code> for configuration removal,</li>
<li><code>thing.bootstrap</code> for device bootstrap,</li>
<li><code>thing.state_change</code> for device state change,</li>
<li><code>thing.update_connections</code> for device connection update.</li>
</ul>
<p>If you want to integrate through <a href="https://github.com/absmach/magistrala/blob/main/docker/addons/bootstrap/docker-compose.yml">docker-compose.yml</a> you can use <code>magistrala-es-redis</code> service. Just connect to it and consume events from Redis Stream named <code>magistrala.bootstrap</code>.</p>
<h3 id="configuration-create-event">Configuration create event<a class="headerlink" href="#configuration-create-event" title="Permanent link">#</a></h3>
<p>Whenever configuration is created, <code>bootstrap</code> service will generate and publish new <code>create</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693313286544-0&quot;
2)  1) &quot;state&quot;
    2) &quot;0&quot;
    3) &quot;operation&quot;
    4) &quot;config.create&quot;
    5) &quot;name&quot;
    6) &quot;demo&quot;
    7) &quot;channels&quot;
    8) &quot;[8d77099e-4911-4140-8555-7d3be65a1694]&quot;
    9) &quot;client_cert&quot;
    10) &quot;-----BEGIN ENCRYPTED PRIVATE KEY-----MIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIc+VAU9JPnIkCAggAMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECImSB+9qZ8dmBIIEyBW/rZlECWnEcMuTXhfJFe+3HP4rV+TXEEuigwCbtVPHWXoZj7KqGiOFgFaDL5Ne/GRwVD6geaTeQVl3aoHzo8mY0yuX2L36Ho2yHF/Bw89WT3hgP0lZ1lVO7O7n8DwybOaoJ+1S3akyb6OPbqcxJou1IGzKV1kz77R8V8nOFSd1BOepNbanGxVG8Jkgc37dQnICXwwaYkTx9PQBtSux1j3KgX0p+VAUNoUFi7N6b0MeO8iEuLU1dUiVwlH/jtitg0W3AvSV+5gezTT2VQW3CVlz6IBTPI1Rfl/3ss18Tao0NiPUmXMIgreBCamXvb0aJm8JxVbhoFYqWVNVocBD+n1+NwhCRlZM5Kgaes5S2JuFnjTAqEYytlQqEySbaN57XYCDNVmQz2iViz/+npuR9SCGwnNvV/TNsKRwav+0NC0pbf3LNk/KL9/X5ccmPhB5Rl7IS/v1BBLYX/jYWVN0dJiSA7fVIr9Acr7IbxWEQ2Y2qh1wdhayi4FBUHY3weivYSU3uGZizsSGJP/N6DutBgS1aXd5X/CqfF7VzRaKF4cfLO4XxTYUEjOztUNMN2XmW0o+ULjQmbouRPs/PIFmh6rc+h42m6p4SkjcsIKOy+mPTeJqhOVmYoMzO8+7mmXDOjFwvi/w97sdmbjII8Zn2iR/N8GuY23vv5h6LQ3tQ5kTA4IuPbYCVLeggd4iMM6TgpuJn0aG7yo4tDFqMeadCVhP2Bp3JQa8r3B2IJstTTF1OtZCrInjSus9ViOiM02Iz3ZmyglsMonJDlWeJL5jKBgqPbLR82IDhIY4IO6SqoVsWu4iWuLW5/TM3fdfYG3Wdvu7Suz7/anLAaMQEzKhObwgDdKmv4PkF75frex969CB1pQqSVnXmz4GrtxVUzWtlflaTSdSegpUXWLhG+jUNKTu+ptxDNM/JBxRNLSzdvsGbkI0qycOCliVpKkkvuiBGtiDWNax6KhV4/oRjkEkTRks9Xeko+q3uY4B//AGxsotsVhF5vhUDTOl5IX7a7wCPtbTGiaR79eprRzGnP9yP38djVrvXprJFU8P7GUr/f2qJt2jDYuCkaqAMsfjdu6YHitjj3ty4vrASgxJ0vsroWhjgiCwgASqM7GnweHSHy5/OZK8jCZX+g+B63Mu4ec+/nNnjvuLqBBZN/FSzXU5fVmYznfPaqW+1Xep+Aj1yGk3L3tvnKLc3sZ1HAJQEjud5dbME6e0JGxh5xOCnzWUR+YL/96KJAcgkxDJ1DxxHv0Uu/5kO5InOsPjs4YKuzqD4nUmGsFsJzTxG626wdGXJMO4YCRKkKtnNeWqMaslM3paN19/tTWyEbaDqc5mVzYLIb3Mzju+OV4GniDeVIvSIsXK5aFGj1PEhfCprQCqUzdNhFU8hF4kUVhn9dp0ExveT7btHSMlEZAWHRkDuLqaImpQkjYmwt90cxtdZwQvjTDtsFmQrvcSp8n1K3P5PwZpVtIw2UHpx+NjE8ZYwOozpXl/oOMzVTB8mi1dQGFkpac9cwnzCZof0ub4iutBeKc4WeEOytvY+CY7hc+/ncCprZ08nlkQarQV7jhfJj658GfBMLGzJtYkCrHwi/AoseIXa5W7eX+lz7O92H2M5QnEkPStQ9lsz2VkYA==-----END ENCRYPTED PRIVATE KEY-----&quot;
    11) &quot;ca_cert&quot;
    12) &quot;-----BEGIN ENCRYPTED PRIVATE KEY-----MIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIc+VAU9JPnIkCAggAMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECImSB+9qZ8dmBIIEyBW/rZlECWnEcMuTXhfJFe+3HP4rV+TXEEuigwCbtVPHWXoZj7KqGiOFgFaDL5Ne/GRwVD6geaTeQVl3aoHzo8mY0yuX2L36Ho2yHF/Bw89WT3hgP0lZ1lVO7O7n8DwybOaoJ+1S3akyb6OPbqcxJou1IGzKV1kz77R8V8nOFSd1BOepNbanGxVG8Jkgc37dQnICXwwaYkTx9PQBtSux1j3KgX0p+VAUNoUFi7N6b0MeO8iEuLU1dUiVwlH/jtitg0W3AvSV+5gezTT2VQW3CVlz6IBTPI1Rfl/3ss18Tao0NiPUmXMIgreBCamXvb0aJm8JxVbhoFYqWVNVocBD+n1+NwhCRlZM5Kgaes5S2JuFnjTAqEYytlQqEySbaN57XYCDNVmQz2iViz/+npuR9SCGwnNvV/TNsKRwav+0NC0pbf3LNk/KL9/X5ccmPhB5Rl7IS/v1BBLYX/jYWVN0dJiSA7fVIr9Acr7IbxWEQ2Y2qh1wdhayi4FBUHY3weivYSU3uGZizsSGJP/N6DutBgS1aXd5X/CqfF7VzRaKF4cfLO4XxTYUEjOztUNMN2XmW0o+ULjQmbouRPs/PIFmh6rc+h42m6p4SkjcsIKOy+mPTeJqhOVmYoMzO8+7mmXDOjFwvi/w97sdmbjII8Zn2iR/N8GuY23vv5h6LQ3tQ5kTA4IuPbYCVLeggd4iMM6TgpuJn0aG7yo4tDFqMeadCVhP2Bp3JQa8r3B2IJstTTF1OtZCrInjSus9ViOiM02Iz3ZmyglsMonJDlWeJL5jKBgqPbLR82IDhIY4IO6SqoVsWu4iWuLW5/TM3fdfYG3Wdvu7Suz7/anLAaMQEzKhObwgDdKmv4PkF75frex969CB1pQqSVnXmz4GrtxVUzWtlflaTSdSegpUXWLhG+jUNKTu+ptxDNM/JBxRNLSzdvsGbkI0qycOCliVpKkkvuiBGtiDWNax6KhV4/oRjkEkTRks9Xeko+q3uY4B//AGxsotsVhF5vhUDTOl5IX7a7wCPtbTGiaR79eprRzGnP9yP38djVrvXprJFU8P7GUr/f2qJt2jDYuCkaqAMsfjdu6YHitjj3ty4vrASgxJ0vsroWhjgiCwgASqM7GnweHSHy5/OZK8jCZX+g+B63Mu4ec+/nNnjvuLqBBZN/FSzXU5fVmYznfPaqW+1Xep+Aj1yGk3L3tvnKLc3sZ1HAJQEjud5dbME6e0JGxh5xOCnzWUR+YL/96KJAcgkxDJ1DxxHv0Uu/5kO5InOsPjs4YKuzqD4nUmGsFsJzTxG626wdGXJMO4YCRKkKtnNeWqMaslM3paN19/tTWyEbaDqc5mVzYLIb3Mzju+OV4GniDeVIvSIsXK5aFGj1PEhfCprQCqUzdNhFU8hF4kUVhn9dp0ExveT7btHSMlEZAWHRkDuLqaImpQkjYmwt90cxtdZwQvjTDtsFmQrvcSp8n1K3P5PwZpVtIw2UHpx+NjE8ZYwOozpXl/oOMzVTB8mi1dQGFkpac9cwnzCZof0ub4iutBeKc4WeEOytvY+CY7hc+/ncCprZ08nlkQarQV7jhfJj658GfBMLGzJtYkCrHwi/AoseIXa5W7eX+lz7O92H2M5QnEkPStQ9lsz2VkYA==-----END ENCRYPTED PRIVATE KEY-----&quot;
    13) &quot;occurred_at&quot;
    14) &quot;1693313286544243035&quot;
    15) &quot;thing_id&quot;
    16) &quot;dc82d6bf-973b-4582-9806-0230cee11c20&quot;
    17) &quot;content&quot;
    18) &quot;{   \&quot;server\&quot;: {     \&quot;address\&quot;: \&quot;127.0.0.1\&quot;,     \&quot;port\&quot;: 8080   },   \&quot;database\&quot;: {     \&quot;host\&quot;: \&quot;localhost\&quot;,     \&quot;port\&quot;: 5432,     \&quot;username\&quot;: \&quot;user\&quot;,     \&quot;password\&quot;: \&quot;password\&quot;,     \&quot;dbname\&quot;: \&quot;mydb\&quot;   },   \&quot;logging\&quot;: {     \&quot;level\&quot;: \&quot;info\&quot;,     \&quot;file\&quot;: \&quot;app.log\&quot;   } }&quot;
    19) &quot;owner&quot;
    20) &quot;64fd20bf-e8fb-46bf-9b64-2a6572eda21b&quot;
    21) &quot;external_id&quot;
    22) &quot;209327A2FA2D47E3B05F118D769DC521&quot;
    23) &quot;client_key&quot;
    24) &quot;-----BEGIN ENCRYPTED PRIVATE KEY-----MIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIc+VAU9JPnIkCAggAMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECImSB+9qZ8dmBIIEyBW/rZlECWnEcMuTXhfJFe+3HP4rV+TXEEuigwCbtVPHWXoZj7KqGiOFgFaDL5Ne/GRwVD6geaTeQVl3aoHzo8mY0yuX2L36Ho2yHF/Bw89WT3hgP0lZ1lVO7O7n8DwybOaoJ+1S3akyb6OPbqcxJou1IGzKV1kz77R8V8nOFSd1BOepNbanGxVG8Jkgc37dQnICXwwaYkTx9PQBtSux1j3KgX0p+VAUNoUFi7N6b0MeO8iEuLU1dUiVwlH/jtitg0W3AvSV+5gezTT2VQW3CVlz6IBTPI1Rfl/3ss18Tao0NiPUmXMIgreBCamXvb0aJm8JxVbhoFYqWVNVocBD+n1+NwhCRlZM5Kgaes5S2JuFnjTAqEYytlQqEySbaN57XYCDNVmQz2iViz/+npuR9SCGwnNvV/TNsKRwav+0NC0pbf3LNk/KL9/X5ccmPhB5Rl7IS/v1BBLYX/jYWVN0dJiSA7fVIr9Acr7IbxWEQ2Y2qh1wdhayi4FBUHY3weivYSU3uGZizsSGJP/N6DutBgS1aXd5X/CqfF7VzRaKF4cfLO4XxTYUEjOztUNMN2XmW0o+ULjQmbouRPs/PIFmh6rc+h42m6p4SkjcsIKOy+mPTeJqhOVmYoMzO8+7mmXDOjFwvi/w97sdmbjII8Zn2iR/N8GuY23vv5h6LQ3tQ5kTA4IuPbYCVLeggd4iMM6TgpuJn0aG7yo4tDFqMeadCVhP2Bp3JQa8r3B2IJstTTF1OtZCrInjSus9ViOiM02Iz3ZmyglsMonJDlWeJL5jKBgqPbLR82IDhIY4IO6SqoVsWu4iWuLW5/TM3fdfYG3Wdvu7Suz7/anLAaMQEzKhObwgDdKmv4PkF75frex969CB1pQqSVnXmz4GrtxVUzWtlflaTSdSegpUXWLhG+jUNKTu+ptxDNM/JBxRNLSzdvsGbkI0qycOCliVpKkkvuiBGtiDWNax6KhV4/oRjkEkTRks9Xeko+q3uY4B//AGxsotsVhF5vhUDTOl5IX7a7wCPtbTGiaR79eprRzGnP9yP38djVrvXprJFU8P7GUr/f2qJt2jDYuCkaqAMsfjdu6YHitjj3ty4vrASgxJ0vsroWhjgiCwgASqM7GnweHSHy5/OZK8jCZX+g+B63Mu4ec+/nNnjvuLqBBZN/FSzXU5fVmYznfPaqW+1Xep+Aj1yGk3L3tvnKLc3sZ1HAJQEjud5dbME6e0JGxh5xOCnzWUR+YL/96KJAcgkxDJ1DxxHv0Uu/5kO5InOsPjs4YKuzqD4nUmGsFsJzTxG626wdGXJMO4YCRKkKtnNeWqMaslM3paN19/tTWyEbaDqc5mVzYLIb3Mzju+OV4GniDeVIvSIsXK5aFGj1PEhfCprQCqUzdNhFU8hF4kUVhn9dp0ExveT7btHSMlEZAWHRkDuLqaImpQkjYmwt90cxtdZwQvjTDtsFmQrvcSp8n1K3P5PwZpVtIw2UHpx+NjE8ZYwOozpXl/oOMzVTB8mi1dQGFkpac9cwnzCZof0ub4iutBeKc4WeEOytvY+CY7hc+/ncCprZ08nlkQarQV7jhfJj658GfBMLGzJtYkCrHwi/AoseIXa5W7eX+lz7O92H2M5QnEkPStQ9lsz2VkYA==-----END ENCRYPTED PRIVATE KEY-----&quot;
</code></pre></div>
<ol>
<li>In Nats Jet Streams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.boo</span><span class="kc">tstra</span><span class="err">p</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-11</span><span class="err">T</span><span class="mi">19</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mf">46+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;client_cert&quot;</span><span class="p">:</span><span class="s2">&quot;-----BEGIN CERTIFICATE-----\nMIIEATCCAumgAwIBAgIUNl+p3eaPJsZRFvW/u5AGBLgx7YMwDQYJKoZIhvcNAQEL\nBQAwLjEsMCoGA1UEAxMjbWFpbmZsdXguY29tIEludGVybWVkaWF0ZSBBdXRob3Jp\ndHkwHhcNMjMxMDExMTYwMDQ0WhcNMjMxMTEwMTYwMTE0WjAvMS0wKwYDVQQDEyQ1\nNmRhNGU5NC0zZDFjLTRhMGQtYTNmNC1hNTdkZDBhNTVkN2IwggEiMA0GCSqGSIb3\nDQEBAQUAA4IBDwAwggEKAoIBAQCt3dFuSvEtihmHKBNCe8AUI/xTJn+JCUF90+ZY\njoz8hWVwd/UhJQKTblBhWL/osGOrr3PItcCVZ1JDaGQMQzhtaPYnBbwJDwMTbcey\nlb/E6O/DD4UCqWpjQjYhc0/z98oM70E+Szs6yp+68qYIGQDH669P91TaURtuGGMr\n8nLN6fQTb9mVZX1L3ps8zHoxb+i7oVhLmjGeGXjf3HP4U+L/hwYhZ/gqqXYZJli6\nR1j5BxJuk1aVKqwrm2qbuFYhWI7Wl6ZEoEk2Q3FV1onzxcVHB5xBacDcNHhyQmoE\nhIg4lt1DTaUKRxlZqbhJQtLrrCeI8NCvEpC/dh1eBwddIxKbAgMBAAGjggEUMIIB\nEDAOBgNVHQ8BAf8EBAMCA6gwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMC\nMB0GA1UdDgQWBBTcmEIW7knfrwBTyBu6WwycgGqzwTAfBgNVHSMEGDAWgBQMxD1V\nt+J/aShmUQJJHmdmmZ/fXDA7BggrBgEFBQcBAQQvMC0wKwYIKwYBBQUHMAKGH2h0\ndHA6Ly92YXVsdDo4MjAwL3YxL3BraV9pbnQvY2EwLwYDVR0RBCgwJoIkNTZkYTRl\nOTQtM2QxYy00YTBkLWEzZjQtYTU3ZGQwYTU1ZDdiMDEGA1UdHwQqMCgwJqAkoCKG\nIGh0dHA6Ly92YXVsdDo4MjAwL3YxL3BraV9pbnQvY3JsMA0GCSqGSIb3DQEBCwUA\nA4IBAQCiCS+dPhXS/upfMieFbt8+QmYQFZ82Ct2oTsDTBaDczE7MiLxrl5iKbynk\nT47y+hyvWFIb31BhrIrS6mRR+9IoJdmje3KxyvNr/TtSw7T4spbfRo30uk2flnA0\nDhJv3bzcYRwjaLdBcZTUS0GETqztdqMThJIY2EAfhfKDM0ecM4tF2c8/RT14BpPO\nEVCUX69A0k6p80xTfmyhvKIfiMsJIcqsHuOiEsiXwgNNUqc332bIV+fQW+vXK8eS\nstp7N2v6axo016wf3qgEUPdPC0sPMHlwIc3s6ddZOoatk6LKH1nW2gIguUH4Ws7s\nAN5Cs0h2D+AWi+IJpDuUzvgrd4/3\n-----END CERTIFICATE-----&quot;</span><span class="p">,</span><span class="nt">&quot;client_key&quot;</span><span class="p">:</span><span class="s2">&quot;-----BEGIN RSA PRIVATE KEY-----\nMIIEpQIBAAKCAQEArd3RbkrxLYoZhygTQnvAFCP8UyZ/iQlBfdPmWI6M/IVlcHf1\nISUCk25QYVi/6LBjq69zyLXAlWdSQ2hkDEM4bWj2JwW8CQ8DE23HspW/xOjvww+F\nAqlqY0I2IXNP8/fKDO9BPks7OsqfuvKmCBkAx+uvT/dU2lEbbhhjK/Jyzen0E2/Z\nlWV9S96bPMx6MW/ou6FYS5oxnhl439xz+FPi/4cGIWf4Kql2GSZYukdY+QcSbpNW\nlSqsK5tqm7hWIViO1pemRKBJNkNxVdaJ88XFRwecQWnA3DR4ckJqBISIOJbdQ02l\nCkcZWam4SULS66wniPDQrxKQv3YdXgcHXSMSmwIDAQABAoIBAGFvWKmdd/EUXl/+\n1mRAo5Dl5cbXYUtzk28nbAQexuXQ/9r6brYHXp0uif8z1EBbcU/KgHFvYaCYiWJb\nQw4YMawm0SNnNExDTG7765iqERERlSPUM68dMBC2D03JqHnJWELNZdu6H1RALyl+\nSAtrr6NZ8iI3MicyotOc+R6svSelUigaTKYGadWKNQJjOpLpFhu0D87iTdQ2dJyU\nJKGuB1YCp3rTNXTLuq/omMDyqJYPCNXbKW78bM9UExz0suYJi6URW/aQIK/A8CUh\nXAm40C2aQ8d5tHONsIGB9BlzOkHrXB2CvHKkQWl/TEfo6qcFI6qhx1Gx72SOK7F1\nAE0dDQkCgYEA5Vqq4/LrY/uzjTN918IYrcSi3gr0NoUY/KuZverBZdSR/fS0vMHX\nQ/X7XGE2gOGrzqWN2dtEAmMrisfo9zUlimU+7SWeetOKa5JTtmSZGFWvCrvsnWkH\narZT59t3yJ7YqwbjRmaSC3Uq7veFBsIEKbszm0eeMCtNcSLuykmBM/8CgYEAwhDd\nS3OLj4J62PlSjyBHSDP2Zv5sG6jXDDRPo8HQWcWoOq2stnwgrblkEXpsSpaRaUP8\nQabEtkobckYx3OK6/0Q4c0A6I4lHQpm2m6K2o+8lsG/OwwNplXA+kpYuqUYEjgBl\nFiGblZCtyDPdd4PnHDBjKLUzOYxgRDxfVLLKcWUCgYEAm4+ypyellswqzZPmQAhL\nOtlLanVdjPkbqI0vmwv2Hv5eAzUNvZVwT40w70iUcjgekuvhWamJ6GChMOFE1x96\nFfN0Cd9hLYf7s9is5OI4oLPFJO+vnliVikCein1mMnHjHaVvU9nQJutSsoC5/opr\nzm5Fo4Wg+qT0Qs9hzVyrwLsCgYEAoTk9f6d4dDskMAnByuI4FgYFWL9ZtQjpz1vO\nJe+oVkxdXJJYgCpTQ8BXICYivTylhVxTv376wa6DasZiOm2qiNN2Slk7c7ZimzP0\nfwwIy9yr5Q6eKWk2WE4tzb4y+bIPqqEtWduF1BWkKkTcYqQUZljUqEcRTWgPueCm\nGkmG4fkCgYEAk1rI1pAdfdxLrKTGu2WRfr0UgNx/eUjVuL5GT3Bu092QLXwFc3Py\nsIu7vHRQY1ASGRDvlyx76Uc+mtmXhowwBL1fTiKcfgD3SbqRTw8rwJbF6MNB7fOH\nSWlA4wuzpwVvg0j2DoY5LbwMN7AbrGS451E14xUwpEWdIDChWw14qag=\n-----END RSA PRIVATE KEY-----&quot;</span><span class="p">,</span><span class="nt">&quot;external_id&quot;</span><span class="p">:</span><span class="s2">&quot;889&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;ariadne&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1697041066438195084</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;config.create&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;1058552c-3f6a-4bfe-827e-ecbcdc95d344&quot;</span><span class="p">,</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="nt">&quot;thing_id&quot;</span><span class="p">:</span><span class="s2">&quot;bb569875-a268-4ed4-b382-b88b181c61f3&quot;</span><span class="p">}</span>
</code></pre></div>
<h3 id="configuration-update-event">Configuration update event<a class="headerlink" href="#configuration-update-event" title="Permanent link">#</a></h3>
<p>Whenever configuration is updated, <code>bootstrap</code> service will generate and publish new <code>update</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693313985263-0&quot;
2)  1) &quot;state&quot;
    2) &quot;0&quot;
    3) &quot;operation&quot;
    4) &quot;config.update&quot;
    5) &quot;thing_id&quot;
    6) &quot;dc82d6bf-973b-4582-9806-0230cee11c20&quot;
    7) &quot;content&quot;
    8) &quot;{   \&quot;server\&quot;: {     \&quot;address\&quot;: \&quot;127.0.0.1\&quot;,     \&quot;port\&quot;: 8080   },   \&quot;database\&quot;: {     \&quot;host\&quot;: \&quot;localhost\&quot;,     \&quot;port\&quot;: 5432,     \&quot;username\&quot;: \&quot;user\&quot;,     \&quot;password\&quot;: \&quot;password\&quot;,     \&quot;dbname\&quot;: \&quot;mydb\&quot;   } }&quot;
    9) &quot;name&quot;
    10) &quot;demo&quot;
    11) &quot;occurred_at&quot;
    12) &quot;1693313985263381501&quot;
</code></pre></div>
<h3 id="certificate-update-event">Certificate update event<a class="headerlink" href="#certificate-update-event" title="Permanent link">#</a></h3>
<p>Whenever certificate is updated, <code>bootstrap</code> service will generate and publish new <code>update</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693313759203-0&quot;
2)  1) &quot;thing_key&quot;
    2) &quot;dc82d6bf-973b-4582-9806-0230cee11c20&quot;
    3) &quot;client_cert&quot;
    4) &quot;-----BEGIN ENCRYPTED PRIVATE KEY-----MIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIc+VAU9JPnIkCAggAMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECImSB+9qZ8dmBIIEyBW/rZlECWnEcMuTXhfJFe+3HP4rV+TXEEuigwCbtVPHWXoZj7KqGiOFgFaDL5Ne/GRwVD6geaTeQVl3aoHzo8mY0yuX2L36Ho2yHF/Bw89WT3hgP0lZ1lVO7O7n8DwybOaoJ+1S3akyb6OPbqcxJou1IGzKV1kz77R8V8nOFSd1BOepNbanGxVG8Jkgc37dQnICXwwaYkTx9PQBtSux1j3KgX0p+VAUNoUFi7N6b0MeO8iEuLU1dUiVwlH/jtitg0W3AvSV+5gezTT2VQW3CVlz6IBTPI1Rfl/3ss18Tao0NiPUmXMIgreBCamXvb0aJm8JxVbhoFYqWVNVocBD+n1+NwhCRlZM5Kgaes5S2JuFnjTAqEYytlQqEySbaN57XYCDNVmQz2iViz/+npuR9SCGwnNvV/TNsKRwav+0NC0pbf3LNk/KL9/X5ccmPhB5Rl7IS/v1BBLYX/jYWVN0dJiSA7fVIr9Acr7IbxWEQ2Y2qh1wdhayi4FBUHY3weivYSU3uGZizsSGJP/N6DutBgS1aXd5X/CqfF7VzRaKF4cfLO4XxTYUEjOztUNMN2XmW0o+ULjQmbouRPs/PIFmh6rc+h42m6p4SkjcsIKOy+mPTeJqhOVmYoMzO8+7mmXDOjFwvi/w97sdmbjII8Zn2iR/N8GuY23vv5h6LQ3tQ5kTA4IuPbYCVLeggd4iMM6TgpuJn0aG7yo4tDFqMeadCVhP2Bp3JQa8r3B2IJstTTF1OtZCrInjSus9ViOiM02Iz3ZmyglsMonJDlWeJL5jKBgqPbLR82IDhIY4IO6SqoVsWu4iWuLW5/TM3fdfYG3Wdvu7Suz7/anLAaMQEzKhObwgDdKmv4PkF75frex969CB1pQqSVnXmz4GrtxVUzWtlflaTSdSegpUXWLhG+jUNKTu+ptxDNM/JBxRNLSzdvsGbkI0qycOCliVpKkkvuiBGtiDWNax6KhV4/oRjkEkTRks9Xeko+q3uY4B//AGxsotsVhF5vhUDTOl5IX7a7wCPtbTGiaR79eprRzGnP9yP38djVrvXprJFU8P7GUr/f2qJt2jDYuCkaqAMsfjdu6YHitjj3ty4vrASgxJ0vsroWhjgiCwgASqM7GnweHSHy5/OZK8jCZX+g+B63Mu4ec+/nNnjvuLqBBZN/FSzXU5fVmYznfPaqW+1Xep+Aj1yGk3L3tvnKLc3sZ1HAJQEjud5dbME6e0JGxh5xOCnzWUR+YL/96KJAcgkxDJ1DxxHv0Uu/5kO5InOsPjs4YKuzqD4nUmGsFsJzTxG626wdGXJMO4YCRKkKtnNeWqMaslM3paN19/tTWyEbaDqc5mVzYLIb3Mzju+OV4GniDeVIvSIsXK5aFGj1PEhfCprQCqUzdNhFU8hF4kUVhn9dp0ExveT7btHSMlEZAWHRkDuLqaImpQkjYmwt90cxtdZwQvjTDtsFmQrvcSp8n1K3P5PwZpVtIw2UHpx+NjE8ZYwOozpXl/oOMzVTB8mi1dQGFkpac9cwnzCZof0ub4iutBeKc4WeEOytvY+CY7hc+/ncCprZ08nlkQarQV7jhfJj658GfBMLGzJtYkCrHwi/AoseIXa5W7eX+lz7O92H2M5QnEkPStQ9lsz2VkYA==-----END ENCRYPTED PRIVATE KEY-----&quot;
    5) &quot;client_key&quot;
    6) &quot;-----BEGIN ENCRYPTED PRIVATE KEY-----MIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIc+VAU9JPnIkCAggAMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECImSB+9qZ8dmBIIEyBW/rZlECWnEcMuTXhfJFe+3HP4rV+TXEEuigwCbtVPHWXoZj7KqGiOFgFaDL5Ne/GRwVD6geaTeQVl3aoHzo8mY0yuX2L36Ho2yHF/Bw89WT3hgP0lZ1lVO7O7n8DwybOaoJ+1S3akyb6OPbqcxJou1IGzKV1kz77R8V8nOFSd1BOepNbanGxVG8Jkgc37dQnICXwwaYkTx9PQBtSux1j3KgX0p+VAUNoUFi7N6b0MeO8iEuLU1dUiVwlH/jtitg0W3AvSV+5gezTT2VQW3CVlz6IBTPI1Rfl/3ss18Tao0NiPUmXMIgreBCamXvb0aJm8JxVbhoFYqWVNVocBD+n1+NwhCRlZM5Kgaes5S2JuFnjTAqEYytlQqEySbaN57XYCDNVmQz2iViz/+npuR9SCGwnNvV/TNsKRwav+0NC0pbf3LNk/KL9/X5ccmPhB5Rl7IS/v1BBLYX/jYWVN0dJiSA7fVIr9Acr7IbxWEQ2Y2qh1wdhayi4FBUHY3weivYSU3uGZizsSGJP/N6DutBgS1aXd5X/CqfF7VzRaKF4cfLO4XxTYUEjOztUNMN2XmW0o+ULjQmbouRPs/PIFmh6rc+h42m6p4SkjcsIKOy+mPTeJqhOVmYoMzO8+7mmXDOjFwvi/w97sdmbjII8Zn2iR/N8GuY23vv5h6LQ3tQ5kTA4IuPbYCVLeggd4iMM6TgpuJn0aG7yo4tDFqMeadCVhP2Bp3JQa8r3B2IJstTTF1OtZCrInjSus9ViOiM02Iz3ZmyglsMonJDlWeJL5jKBgqPbLR82IDhIY4IO6SqoVsWu4iWuLW5/TM3fdfYG3Wdvu7Suz7/anLAaMQEzKhObwgDdKmv4PkF75frex969CB1pQqSVnXmz4GrtxVUzWtlflaTSdSegpUXWLhG+jUNKTu+ptxDNM/JBxRNLSzdvsGbkI0qycOCliVpKkkvuiBGtiDWNax6KhV4/oRjkEkTRks9Xeko+q3uY4B//AGxsotsVhF5vhUDTOl5IX7a7wCPtbTGiaR79eprRzGnP9yP38djVrvXprJFU8P7GUr/f2qJt2jDYuCkaqAMsfjdu6YHitjj3ty4vrASgxJ0vsroWhjgiCwgASqM7GnweHSHy5/OZK8jCZX+g+B63Mu4ec+/nNnjvuLqBBZN/FSzXU5fVmYznfPaqW+1Xep+Aj1yGk3L3tvnKLc3sZ1HAJQEjud5dbME6e0JGxh5xOCnzWUR+YL/96KJAcgkxDJ1DxxHv0Uu/5kO5InOsPjs4YKuzqD4nUmGsFsJzTxG626wdGXJMO4YCRKkKtnNeWqMaslM3paN19/tTWyEbaDqc5mVzYLIb3Mzju+OV4GniDeVIvSIsXK5aFGj1PEhfCprQCqUzdNhFU8hF4kUVhn9dp0ExveT7btHSMlEZAWHRkDuLqaImpQkjYmwt90cxtdZwQvjTDtsFmQrvcSp8n1K3P5PwZpVtIw2UHpx+NjE8ZYwOozpXl/oOMzVTB8mi1dQGFkpac9cwnzCZof0ub4iutBeKc4WeEOytvY+CY7hc+/ncCprZ08nlkQarQV7jhfJj658GfBMLGzJtYkCrHwi/AoseIXa5W7eX+lz7O92H2M5QnEkPStQ9lsz2VkYA==-----END ENCRYPTED PRIVATE KEY-----&quot;
    7) &quot;ca_cert&quot;
    8) &quot;-----BEGIN ENCRYPTED PRIVATE KEY-----MIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIc+VAU9JPnIkCAggAMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECImSB+9qZ8dmBIIEyBW/rZlECWnEcMuTXhfJFe+3HP4rV+TXEEuigwCbtVPHWXoZj7KqGiOFgFaDL5Ne/GRwVD6geaTeQVl3aoHzo8mY0yuX2L36Ho2yHF/Bw89WT3hgP0lZ1lVO7O7n8DwybOaoJ+1S3akyb6OPbqcxJou1IGzKV1kz77R8V8nOFSd1BOepNbanGxVG8Jkgc37dQnICXwwaYkTx9PQBtSux1j3KgX0p+VAUNoUFi7N6b0MeO8iEuLU1dUiVwlH/jtitg0W3AvSV+5gezTT2VQW3CVlz6IBTPI1Rfl/3ss18Tao0NiPUmXMIgreBCamXvb0aJm8JxVbhoFYqWVNVocBD+n1+NwhCRlZM5Kgaes5S2JuFnjTAqEYytlQqEySbaN57XYCDNVmQz2iViz/+npuR9SCGwnNvV/TNsKRwav+0NC0pbf3LNk/KL9/X5ccmPhB5Rl7IS/v1BBLYX/jYWVN0dJiSA7fVIr9Acr7IbxWEQ2Y2qh1wdhayi4FBUHY3weivYSU3uGZizsSGJP/N6DutBgS1aXd5X/CqfF7VzRaKF4cfLO4XxTYUEjOztUNMN2XmW0o+ULjQmbouRPs/PIFmh6rc+h42m6p4SkjcsIKOy+mPTeJqhOVmYoMzO8+7mmXDOjFwvi/w97sdmbjII8Zn2iR/N8GuY23vv5h6LQ3tQ5kTA4IuPbYCVLeggd4iMM6TgpuJn0aG7yo4tDFqMeadCVhP2Bp3JQa8r3B2IJstTTF1OtZCrInjSus9ViOiM02Iz3ZmyglsMonJDlWeJL5jKBgqPbLR82IDhIY4IO6SqoVsWu4iWuLW5/TM3fdfYG3Wdvu7Suz7/anLAaMQEzKhObwgDdKmv4PkF75frex969CB1pQqSVnXmz4GrtxVUzWtlflaTSdSegpUXWLhG+jUNKTu+ptxDNM/JBxRNLSzdvsGbkI0qycOCliVpKkkvuiBGtiDWNax6KhV4/oRjkEkTRks9Xeko+q3uY4B//AGxsotsVhF5vhUDTOl5IX7a7wCPtbTGiaR79eprRzGnP9yP38djVrvXprJFU8P7GUr/f2qJt2jDYuCkaqAMsfjdu6YHitjj3ty4vrASgxJ0vsroWhjgiCwgASqM7GnweHSHy5/OZK8jCZX+g+B63Mu4ec+/nNnjvuLqBBZN/FSzXU5fVmYznfPaqW+1Xep+Aj1yGk3L3tvnKLc3sZ1HAJQEjud5dbME6e0JGxh5xOCnzWUR+YL/96KJAcgkxDJ1DxxHv0Uu/5kO5InOsPjs4YKuzqD4nUmGsFsJzTxG626wdGXJMO4YCRKkKtnNeWqMaslM3paN19/tTWyEbaDqc5mVzYLIb3Mzju+OV4GniDeVIvSIsXK5aFGj1PEhfCprQCqUzdNhFU8hF4kUVhn9dp0ExveT7btHSMlEZAWHRkDuLqaImpQkjYmwt90cxtdZwQvjTDtsFmQrvcSp8n1K3P5PwZpVtIw2UHpx+NjE8ZYwOozpXl/oOMzVTB8mi1dQGFkpac9cwnzCZof0ub4iutBeKc4WeEOytvY+CY7hc+/ncCprZ08nlkQarQV7jhfJj658GfBMLGzJtYkCrHwi/AoseIXa5W7eX+lz7O92H2M5QnEkPStQ9lsz2VkYA==-----END ENCRYPTED PRIVATE KEY-----&quot;
    9) &quot;operation&quot;
    10) &quot;cert.update&quot;
    11) &quot;occurred_at&quot;
    12) &quot;1693313759203076553&quot;
</code></pre></div>
<h3 id="configuration-list-event">Configuration list event<a class="headerlink" href="#configuration-list-event" title="Permanent link">#</a></h3>
<p>Whenever configuration list is fetched, <code>bootstrap</code> service will generate new <code>list</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693339274766-0&quot;
2) 1) &quot;occurred_at&quot;
    2) &quot;1693339274766130265&quot;
    3) &quot;offset&quot;
    4) &quot;0&quot;
    5) &quot;limit&quot;
    6) &quot;10&quot;
    7) &quot;operation&quot;
    8) &quot;config.list&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.boo</span><span class="kc">tstra</span><span class="err">p</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-11</span><span class="err">T</span><span class="mi">19</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mf">05+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;external_id&quot;</span><span class="p">:</span><span class="s2">&quot;879&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;aphrodite&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1697042445469239430</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;config.list&quot;</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="s2">&quot;1058552c-3f6a-4bfe-827e-ecbcdc95d344&quot;</span><span class="p">,</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="nt">&quot;thing_id&quot;</span><span class="p">:</span><span class="s2">&quot;1f9c0d1d-0d6b-4a83-83b9-50845e557a85&quot;</span><span class="p">}</span>
</code></pre></div>
<h3 id="configuration-view-event">Configuration view event<a class="headerlink" href="#configuration-view-event" title="Permanent link">#</a></h3>
<p>Whenever configuration is viewed, <code>bootstrap</code> service will generate new <code>view</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) 1) &quot;1693339152105-0&quot;
2)  1) &quot;thing_id&quot;
    2) &quot;74f00d13-d370-42c0-b528-04fff995275c&quot;
    3) &quot;name&quot;
    4) &quot;demo&quot;
    5) &quot;external_id&quot;
    6) &quot;FF-41-EF-BC-90-BC&quot;
    7) &quot;channels&quot;
    8) &quot;[90aae157-d47f-4d71-9a68-b000c0025ae8]&quot;
    9) &quot;client_cert&quot;
    10) &quot;-----BEGIN PRIVATE KEY-----MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDVYaZsyd76aSWZexY/OyX8hVdE+ruT3OZrE6gFSjDiaAA2Uf5/eHT1BJdR4LviooXix8vfc/g5CAN/z98zmUmAzx9lk5T4sRhJfqYQ2yDEt1tVDwD3RzL9RHXRWiZu4thk253jOpT15VFvOf5wE6mhVozFl9OetVJb4eqKbHx9RY0rMXwiBiCC2LcUtcp6rVjp4pK6VGjehA8siVX9bnRsIY776jDb/pm2n+y5G+bd1CifSdgTrr7QLKFlx0//5lyslmfUbf76kg9bZ8Qe2NdFKvcpEZ4ENxtwMrqW2i1pTExVHNpka8rhA5936qpDKu1ce+kccIbFsPRAHU5PyXfNAgMBAAECggEAAtBt4c4WcGuwlkHxp4B/3hZix0Md9DOb9QTmWLjYxN5QRRHMbyFHPEVaOuHhjc9M6r0YgD2cTsw/QjvwmqfxOI9YFP6JnsS0faD7pF9EzbNes1QmVByOnJkpi0r1aiL4baQZL0+sz+1n/IqMQ4LO4D+ETcV/LKmsM2VbCDD+wfwsVkTmgaqKtXIFQ3bOU5LjRcxCZFs81z3mYDyP4hfnlmTWOOXcf8yLqx5LGH8erCGXgrhZiN5/mhkzUpkF75Eo4qt3jVZEt+d48RnPsk0TO0rqs4j5F3d/6Dboi3UpRlHZ4vEM7MeDGoMuXTh59MzbV1e/03sY2jTtB2NVQ51pFQKBgQD0kjYorDqu5e82Orp5rRkS58nUDgq3vaxNKJq+32LuuTuNjRrM57XoyBAVnBlfTP5IOQaxjYPNxHkZhYdYREyZKx96g6FZUWLQxKO+vP+E25MXSsnP8FMkQNfgSvMCxfIyFO3aVbDUme6bIScPNCTzKVWSWTj5Zyyig9VQpoRJ5wKBgQDfWlF7krUefQEvdJFxd9IGBvlkWkGi942Hh0H6vJCzhMQO8DeHZjO4oiiCEpRmBdkLDlZs81mykmyFEpjcmv4JD23HQ9IPi0/4Bsuu3SDXF4HC5/QYldaG0behBmMmDYuaQ0NHY5rpCnpZBteYT6V6lcBm/AIKwvz+N8fY2fDCKwKBgQDfBCjQw+SrMc8FI16Br7+KhsR7UuahEBt7LIiXfvom98//TuleafhuMWjBW9ujFIFXeHDLHWFQFFXdWO7HJVi33yPQQxGxcc5q0rUCLDPQga1Kcw8+R0Z5a4uu4olgQQKOepk+HB+obkmvOfb1HTaIaWu3jRawDk4cT50H8x/0hwKBgB63eB9LhNclj+Ur3djCBsNHcELp2r8D1pX99wf5qNjXeHMpfCmF17UbsAB7d6c0RK4tkZs4OGzDkGMYtKcaNbefRJSz8g6rNRtCK/7ncF3EYNciOUKsUK2H5/4gN8CC+mEDwRvvSd2k0ECwHTRYN8TNFYHURJ+gQ1Te7QAYsPCzAoGBAMZnbAY1Q/gK11JaPE2orFb1IltDRKB2IXh5Ton0ZCqhmOhMLQ+4t7DLPUKdXlsBZa/IIm5XehBg6VajbG0zulKLzO4YHuWEduwYON+4DNQxLWhBCBauOZ7+dcGUvYkeKoySYs6hznV9mlMHe1TuhCO8zHjpvBXOrlAR8VX5BXKz-----END PRIVATE KEY-----&quot;
    11) &quot;state&quot;
    12) &quot;0&quot;
    13) &quot;operation&quot;
    14) &quot;config.view&quot;
    15) &quot;content&quot;
    16) &quot;{\&quot;device_id\&quot;: \&quot;12345\&quot;,\&quot;secure_connection\&quot;: true,\&quot;sensor_config\&quot;: {\&quot;temperature\&quot;: true,\&quot;humidity\&quot;: true,\&quot;pressure\&quot;: false}}&quot;
    17) &quot;owner&quot;
    18) &quot;b2972472-c93c-408f-9b77-0f8a81ee47af&quot;
    19) &quot;occurred_at&quot;
    20) &quot;1693339152105496336&quot;
</code></pre></div>
<h3 id="configuration-remove-event">Configuration remove event<a class="headerlink" href="#configuration-remove-event" title="Permanent link">#</a></h3>
<p>Whenever configuration is removed, <code>bootstrap</code> service will generate and publish new <code>remove</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1693339203771-0&quot;
2) 1) &quot;occurred_at&quot;
    2) &quot;1693339203771705590&quot;
    3) &quot;thing_id&quot;
    4) &quot;853f37b9-513a-41a2-a575-bbaa746961a6&quot;
    5) &quot;operation&quot;
    6) &quot;config.remove&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.boo</span><span class="kc">tstra</span><span class="err">p</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-11</span><span class="err">T</span><span class="mi">19</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mf">50+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1697041490458439515</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;config.remove&quot;</span><span class="p">,</span><span class="nt">&quot;thing_id&quot;</span><span class="p">:</span><span class="s2">&quot;6a08150a-cd19-460f-99c9-a760ee50aed3&quot;</span><span class="p">}</span>
</code></pre></div>
<h3 id="configuration-remove-handler">Configuration remove handler<a class="headerlink" href="#configuration-remove-handler" title="Permanent link">#</a></h3>
<p>Whenever a thing is removed, <code>bootstrap</code> service will generate and publish new <code>config.remove_handler</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) 1) &quot;1693337955655-0&quot;
2) 1) &quot;config_id&quot;
    2) &quot;0198b458-573e-415a-aa05-052ddab9709d&quot;
    3) &quot;operation&quot;
    4) &quot;config.remove_handler&quot;
    5) &quot;occurred_at&quot;
    6) &quot;1693337955654969489&quot;
</code></pre></div>
<h3 id="thing-bootstrap-event">Thing bootstrap event<a class="headerlink" href="#thing-bootstrap-event" title="Permanent link">#</a></h3>
<p>Whenever thing is bootstrapped, <code>bootstrap</code> service will generate and publish new <code>bootstrap</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) 1) &quot;1693339161600-0&quot;
2)  1) &quot;occurred_at&quot;
    2) &quot;1693339161600369325&quot;
    3) &quot;external_id&quot;
    4) &quot;FF-41-EF-BC-90-BC&quot;
    5) &quot;success&quot;
    6) &quot;1&quot;
    7) &quot;operation&quot;
    8) &quot;thing.bootstrap&quot;
    9) &quot;thing_id&quot;
    10) &quot;74f00d13-d370-42c0-b528-04fff995275c&quot;
    11) &quot;content&quot;
    12) &quot;{\&quot;device_id\&quot;: \&quot;12345\&quot;,\&quot;secure_connection\&quot;: true,\&quot;sensor_config\&quot;: {\&quot;temperature\&quot;: true,\&quot;humidity\&quot;: true,\&quot;pressure\&quot;: false}}&quot;
    13) &quot;owner&quot;
    14) &quot;b2972472-c93c-408f-9b77-0f8a81ee47af&quot;
    15) &quot;name&quot;
    16) &quot;demo&quot;
    17) &quot;channels&quot;
    18) &quot;[90aae157-d47f-4d71-9a68-b000c0025ae8]&quot;
    19) &quot;ca_cert&quot;
    20) &quot;-----BEGIN PRIVATE KEY-----MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDVYaZsyd76aSWZexY/OyX8hVdE+ruT3OZrE6gFSjDiaAA2Uf5/eHT1BJdR4LviooXix8vfc/g5CAN/z98zmUmAzx9lk5T4sRhJfqYQ2yDEt1tVDwD3RzL9RHXRWiZu4thk253jOpT15VFvOf5wE6mhVozFl9OetVJb4eqKbHx9RY0rMXwiBiCC2LcUtcp6rVjp4pK6VGjehA8siVX9bnRsIY776jDb/pm2n+y5G+bd1CifSdgTrr7QLKFlx0//5lyslmfUbf76kg9bZ8Qe2NdFKvcpEZ4ENxtwMrqW2i1pTExVHNpka8rhA5936qpDKu1ce+kccIbFsPRAHU5PyXfNAgMBAAECggEAAtBt4c4WcGuwlkHxp4B/3hZix0Md9DOb9QTmWLjYxN5QRRHMbyFHPEVaOuHhjc9M6r0YgD2cTsw/QjvwmqfxOI9YFP6JnsS0faD7pF9EzbNes1QmVByOnJkpi0r1aiL4baQZL0+sz+1n/IqMQ4LO4D+ETcV/LKmsM2VbCDD+wfwsVkTmgaqKtXIFQ3bOU5LjRcxCZFs81z3mYDyP4hfnlmTWOOXcf8yLqx5LGH8erCGXgrhZiN5/mhkzUpkF75Eo4qt3jVZEt+d48RnPsk0TO0rqs4j5F3d/6Dboi3UpRlHZ4vEM7MeDGoMuXTh59MzbV1e/03sY2jTtB2NVQ51pFQKBgQD0kjYorDqu5e82Orp5rRkS58nUDgq3vaxNKJq+32LuuTuNjRrM57XoyBAVnBlfTP5IOQaxjYPNxHkZhYdYREyZKx96g6FZUWLQxKO+vP+E25MXSsnP8FMkQNfgSvMCxfIyFO3aVbDUme6bIScPNCTzKVWSWTj5Zyyig9VQpoRJ5wKBgQDfWlF7krUefQEvdJFxd9IGBvlkWkGi942Hh0H6vJCzhMQO8DeHZjO4oiiCEpRmBdkLDlZs81mykmyFEpjcmv4JD23HQ9IPi0/4Bsuu3SDXF4HC5/QYldaG0behBmMmDYuaQ0NHY5rpCnpZBteYT6V6lcBm/AIKwvz+N8fY2fDCKwKBgQDfBCjQw+SrMc8FI16Br7+KhsR7UuahEBt7LIiXfvom98//TuleafhuMWjBW9ujFIFXeHDLHWFQFFXdWO7HJVi33yPQQxGxcc5q0rUCLDPQga1Kcw8+R0Z5a4uu4olgQQKOepk+HB+obkmvOfb1HTaIaWu3jRawDk4cT50H8x/0hwKBgB63eB9LhNclj+Ur3djCBsNHcELp2r8D1pX99wf5qNjXeHMpfCmF17UbsAB7d6c0RK4tkZs4OGzDkGMYtKcaNbefRJSz8g6rNRtCK/7ncF3EYNciOUKsUK2H5/4gN8CC+mEDwRvvSd2k0ECwHTRYN8TNFYHURJ+gQ1Te7QAYsPCzAoGBAMZnbAY1Q/gK11JaPE2orFb1IltDRKB2IXh5Ton0ZCqhmOhMLQ+4t7DLPUKdXlsBZa/IIm5XehBg6VajbG0zulKLzO4YHuWEduwYON+4DNQxLWhBCBauOZ7+dcGUvYkeKoySYs6hznV9mlMHe1TuhCO8zHjpvBXOrlAR8VX5BXKz-----END PRIVATE KEY-----&quot;
</code></pre></div>
<h3 id="thing-change-state-event">Thing change state event<a class="headerlink" href="#thing-change-state-event" title="Permanent link">#</a></h3>
<p>Whenever thing's state changes, <code>bootstrap</code> service will generate and publish new <code>change state</code> event. This event will have the following format:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) &quot;1555405294806-0&quot;
2) 1) &quot;thing_id&quot;
2) &quot;63a110d4-2b77-48d2-aa46-2582681eeb82&quot;
3) &quot;state&quot;
4) &quot;0&quot;
5) &quot;timestamp&quot;
6) &quot;1555405294&quot;
7) &quot;operation&quot;
8) &quot;thing.state_change&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.boo</span><span class="kc">tstra</span><span class="err">p</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-11</span><span class="err">T</span><span class="mi">19</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mf">31+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1697041591648042067</span><span class="p">,</span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="s2">&quot;thing.change_state&quot;</span><span class="p">,</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="nt">&quot;thing_id&quot;</span><span class="p">:</span><span class="s2">&quot;1f9c0d1d-0d6b-4a83-83b9-50845e557a85&quot;</span><span class="p">}</span>
</code></pre></div>
<h3 id="thing-update-connections-event">Thing update connections event<a class="headerlink" href="#thing-update-connections-event" title="Permanent link">#</a></h3>
<p>Whenever thing's list of connections is updated, <code>bootstrap</code> service will generate and publish new <code>update connections</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1555405373360-0&quot;
2) 1) &quot;operation&quot;
   2) &quot;thing.update_connections&quot;
   3) &quot;thing_id&quot;
   4) &quot;63a110d4-2b77-48d2-aa46-2582681eeb82&quot;
   5) &quot;channels&quot;
   6) &quot;ff13ca9c-7322-4c28-a25c-4fe5c7b753fc, 925461e6-edfb-4755-9242-8a57199b90a5, c3642289-501d-4974-82f2-ecccc71b2d82&quot;
   7) &quot;timestamp&quot;
   8) &quot;1555405373&quot;
</code></pre></div>
<h3 id="channel-update-handler-event">Channel update handler event<a class="headerlink" href="#channel-update-handler-event" title="Permanent link">#</a></h3>
<p>Whenever channel is updated, <code>bootstrap</code> service will generate and publish new <code>update handler</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693339403536-0&quot;
2)  1) &quot;operation&quot;
    2) &quot;channel.update_handler&quot;
    3) &quot;channel_id&quot;
    4) &quot;0e602731-36ba-4a29-adba-e5761f356158&quot;
    5) &quot;name&quot;
    6) &quot;dry-sky&quot;
    7) &quot;metadata&quot;
    8) &quot;{\&quot;log\&quot;:\&quot;info\&quot;}&quot;
    9) &quot;occurred_at&quot;
    10) &quot;1693339403536636387&quot;
</code></pre></div>
<h3 id="channel-remove-handler-event">Channel remove handler event<a class="headerlink" href="#channel-remove-handler-event" title="Permanent link">#</a></h3>
<p>Whenever channel is removed, <code>bootstrap</code> service will generate and publish new <code>remove handler</code> event. This event will have the following format:</p>
<div class="highlight"><pre><span></span><code>1) &quot;1693339468719-0&quot;
2) 1) &quot;config_id&quot;
    2) &quot;0198b458-573e-415a-aa05-052ddab9709d&quot;
    3) &quot;operation&quot;
    4) &quot;config.remove_handler&quot;
    5) &quot;occurred_at&quot;
    6) &quot;1693339468719177463&quot;
</code></pre></div>
<h2 id="mqtt-adapter">MQTT Adapter<a class="headerlink" href="#mqtt-adapter" title="Permanent link">#</a></h2>
<p>Instead of using heartbeat to know when client is connected through MQTT adapter one can fetch events from Redis Streams that MQTT adapter publishes. MQTT adapter publishes events every time client connects and disconnects to stream named <code>magistrala.mqtt</code>.</p>
<p>Events that are coming from MQTT adapter have following fields:</p>
<ul>
<li><code>thing_id</code> ID of a thing that has connected to MQTT adapter,</li>
<li><code>event_type</code> can have two possible values, connect and disconnect,</li>
<li><code>instance</code> represents MQTT adapter instance.</li>
<li><code>occurred_at</code> is in Epoch UNIX Time Stamp format.</li>
</ul>
<p>If you want to integrate through <a href="https://github.com/absmach/magistrala/blob/main/docker/docker-compose.yml">docker-compose.yml</a> you can use <code>magistrala-es-redis</code> service. Just connect to it and consume events from Redis Stream named <code>magistrala.mqtt</code>.</p>
<p>Examples of connect event:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) 1) &quot;1693312937469-0&quot;
2) 1) &quot;thing_id&quot;
    1) &quot;76a58221-e319-492a-be3e-b3d15631e92a&quot;
    2) &quot;event_type&quot;
    3) &quot;connect&quot;
    4) &quot;instance&quot;
    5) &quot;&quot;
    6) &quot;occurred_at&quot;
    7) &quot;1693312937469719069&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.mq</span><span class="kc">tt</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-09</span><span class="err">T</span><span class="mi">14</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mf">36+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;connect&quot;</span><span class="p">,</span><span class="nt">&quot;instance&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696852656381976408</span><span class="p">,</span><span class="nt">&quot;thing_id&quot;</span><span class="p">:</span><span class="s2">&quot;9b23fec0-41a2-44ed-af13-7c54706b3291&quot;</span><span class="p">}</span>
</code></pre></div>
<p>Example of disconnect event:</p>
<ol>
<li>In Redis Streams</li>
</ol>
<div class="highlight"><pre><span></span><code>1) 1) &quot;1693312937471-0&quot;
2) 1) &quot;thing_id&quot;
    2) &quot;76a58221-e319-492a-be3e-b3d15631e92a&quot;
    3) &quot;event_type&quot;
    4) &quot;disconnect&quot;
    5) &quot;instance&quot;
    6) &quot;&quot;
    7) &quot;occurred_at&quot;
    8) &quot;1693312937471064150&quot;
</code></pre></div>
<ol>
<li>In Nats JetStreams</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="err">Subjec</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="err">eve</span><span class="kc">nts</span><span class="err">.magis</span><span class="kc">trala</span><span class="err">.mq</span><span class="kc">tt</span><span class="w"> </span><span class="err">Received</span><span class="p">:</span><span class="w"> </span><span class="mi">2023-10-09</span><span class="err">T</span><span class="mi">14</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mf">36+03</span><span class="p">:</span><span class="mi">00</span>

<span class="p">{</span><span class="nt">&quot;event_type&quot;</span><span class="p">:</span><span class="s2">&quot;disconnect&quot;</span><span class="p">,</span><span class="nt">&quot;instance&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;occurred_at&quot;</span><span class="p">:</span><span class="mi">1696852656435238414</span><span class="p">,</span><span class="nt">&quot;thing_id&quot;</span><span class="p">:</span><span class="s2">&quot;9b23fec0-41a2-44ed-af13-7c54706b3291&quot;</span><span class="p">}</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (c) Abstract Machines
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>